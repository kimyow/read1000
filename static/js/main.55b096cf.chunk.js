(this.webpackJsonpread1000=this.webpackJsonpread1000||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(9),c=n.n(r),a=n(27),o=n.n(a),s=(n(44),n(11)),i=(n(45),n(35)),u=n(38),l=n(21),d=n(22),j=n(26),b=Object(i.a)({apiKey:"AIzaSyCGerFrxYZ2_MfRCURUdsqMuD2-9V-B7g4",authDomain:"readbooks-164200.firebaseapp.com",databaseURL:"https://readbooks-164200.firebaseio.com",projectId:"readbooks-164200",storageBucket:"readbooks-164200.appspot.com",messagingSenderId:"451518411017",appId:"1:451518411017:web:cced9b89a6030da16963d8",measurementId:"G-8WQD7EGSVQ"}),O=(Object(u.a)(b),Object(l.c)(b)),g=Object(d.b)(b),h=Object(j.b)(b),p=new d.a,f="sign-in",m="user-rank",v="change-mode",x="user-rank-data-received",_=n(19),k=n(12);var U=function(){var e=Object(_.c)((function(e){return e.mode})),t=Object(_.b)();return console.log("signin render()",e),e!==f?(console.log("signin hidden return"),Object(k.jsx)("div",{className:"hidden"})):(console.log("signin general return"),Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:"Sign in screen"}),Object(k.jsx)("button",{onClick:function(){return Object(d.c)(g,p).then((function(e){d.a.credentialFromResult(e).accessToken;var n=e.user;console.log("\ub85c\uadf8\uc778 \uc644\ub8cc~!!",n),t({type:v,mode:m})})).catch((function(e){var t=e.code,n=e.message,r=e.email,c=d.a.credentialFromError(e);console.log("error=>",t,n,r,c),console.log("\ub85c\uadf8\uc778 \uc2e4\ud328~!!")})),!0},children:"Google \ub85c \ub85c\uadf8\uc778"})]}))},y=n(0),I=n.n(y),R=n(1),D=n(2),E=n(3),S=n(7),w=n(8),L=function(e){Object(S.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(D.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={imageUrl:null},e}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("UserImageItem componentDidMount =>",this.props.data,h);var t=Object(j.c)(h,"/profile_thumbnails/".concat(this.props.data.email,"_").concat(this.props.data.profileId,".png"));console.log("storageRef=",t),Object(j.a)(t).then((function(t){console.log("download_url=",t),e.setState({imageUrl:t})}))}},{key:"render",value:function(){return console.log("UserImageItem render =>",this.state.imageUrl),this.state.imageUrl?Object(k.jsxs)("div",{className:"UserImageDiv",children:[Object(k.jsx)("h2",{children:this.props.data.email}),Object(k.jsxs)("h4",{children:[this.props.data.read,"\uad8c \uc77d\uc74c"]}),Object(k.jsx)("img",{src:this.state.imageUrl,className:"UserImage",alt:""})]}):Object(k.jsx)("div",{})}}]),n}(r.Component),C=L;function N(){return(N=Object(R.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(l.f)(Object(l.a)(O,"UserRank/Rank_Day_2021_11_19/Rank_Day_2021_11_19"),Object(l.g)("read",">",0),Object(l.e)("read","desc"),Object(l.d)(10)),e.next=3,Object(l.b)(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){(function(){return N.apply(this,arguments)})().then((function(t){var n=[];t.forEach((function(e){var t=e.data();n.push(t)})),e({type:x,userRankList:n})}))}var T=function(){var e=Object(_.c)((function(e){return e.mode})),t=Object(_.c)((function(e){return e.userRankList})),n=Object(_.b)();if(console.log("UserImageList render() =>",e,t),e!==m)return Object(k.jsx)("div",{className:"hidden"});if(null===t)return F(n),Object(k.jsx)("div",{children:Object(k.jsx)("h1",{children:"\uc0ac\uc6a9\uc790 \ub7ad\ud0b9 \ub370\uc774\ud0c0 \ub85c\ub529\uc911..."})});for(var r=[],c=0;c<t.length;){var a=t[c],o=Object(k.jsx)(C,{data:a},""+c);r.push(o),c+=1}return console.log("userItems=",r),Object(k.jsx)("div",{children:Object(k.jsx)("ul",{children:r})})};console.log("currentUser=",g.currentUser);var M=function(){var e=Object(_.b)(),t=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=g.onAuthStateChanged((function(e){console.log("authUser=>",e),c(e||null)}));return function(){e()}}),[]),n}();return console.log("app render()..."),e(null===t?{type:v,mode:f}:{type:v,mode:m}),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)("button",{onClick:function(){g.signOut().then((function(t){console.log("signed out~!!"),e({type:v,mode:f})})).catch((function(e){console.log("signed out failed~!!!",e)}))},children:"\ub85c\uadf8\uc544\uc6c3"}),Object(k.jsx)(U,{}),Object(k.jsx)(T,{})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},B=n(39);var G=Object(B.a)((function(e,t){return console.log("reducer called~!",e,t),void 0===e?{mode:"init",userRankList:null}:(t.type===v&&(n=Object.assign({},e,{mode:t.mode})),t.type===x&&(n=Object.assign({},e,{userRankList:t.userRankList})),n);var n}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(_.a,{store:G,children:Object(k.jsx)(M,{})})}),document.getElementById("root")),A()}},[[55,1,2]]]);
//# sourceMappingURL=main.55b096cf.chunk.js.map