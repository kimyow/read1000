(this.webpackJsonpread1000=this.webpackJsonpread1000||[]).push([[0],{115:function(e,t,n){},144:function(e,t,n){},147:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(56),o=n.n(r),s=(n(144),n(12)),i=n(118),l=n(127),d=n(25),j=n(59),u=n(34),b=Object(i.a)({apiKey:"AIzaSyCGerFrxYZ2_MfRCURUdsqMuD2-9V-B7g4",authDomain:"readbooks-164200.firebaseapp.com",databaseURL:"https://readbooks-164200.firebaseio.com",projectId:"readbooks-164200",storageBucket:"readbooks-164200.appspot.com",messagingSenderId:"451518411017",appId:"1:451518411017:web:cced9b89a6030da16963d8",measurementId:"G-8WQD7EGSVQ"}),O=(Object(l.a)(b),Object(d.e)(b)),h=Object(j.b)(b),g=Object(u.b)(b),x=new j.a,f="init",m="sign-in",p="user-rank-daily",v="user-rank-weekly",k="user-rank-monthly",y="good-writer",w="best-reader",C="book-shelf",N="change-mode",S="user-selected",B=a.a.createContext({}),D={mode:f,userRankList:null,selectedUser:null},I=function(e,t){var n;switch(console.log("reducer called~!",e,t),t.type){case N:n=Object.assign({},e,{mode:t.mode});break;case"user-rank-data-received":n=Object.assign({},e,{userRankList:t.userRankList});break;case S:n=Object.assign({},e,{selectedUser:t.user,mode:C});break;default:n=D}return console.log("reducer return ===>",n),n},_=n.p+"static/media/image1.26ee4fa8.svg",E=n(236),R=n(10),F=(n(147),n(232)),L=n(3),M=function(){var e=Object(c.useContext)(B),t=e.state,n=e.dispatch,a=t.mode;return console.log("signin render()",a),a!==m?(console.log("signin hidden return"),Object(L.jsx)("div",{className:"hidden"})):(console.log("signin general return"),Object(L.jsxs)(E.a,{paddingTop:"10rem",textAlign:"center",className:"container",children:[Object(L.jsx)("img",{src:_,className:"signinLogo"}),Object(L.jsx)("h1",{className:"signinTitle",children:"\ucc9c\uad8c\uc77d\uae30 \ub85c\uadf8\uc778"}),Object(L.jsx)("div",{children:Object(L.jsx)(F.a,{className:"loginButton buttonColorGoogle",size:"large",color:"inherit",variant:"contained",onClick:function(){!function(e){Object(j.c)(h,x).then((function(t){var n=j.a.credentialFromResult(t).accessToken,c=t.user;console.log("\ub85c\uadf8\uc778 \uc644\ub8cc~!!",c,n),e({type:N,mode:f})})).catch((function(e){var t=e.code,n=e.message,c=e.email,a=j.a.credentialFromError(e);console.log("error=>",t,n,c,a),console.log("\ub85c\uadf8\uc778 \uc2e4\ud328~!!")}))}(n)},children:"Google \ub85c \ub85c\uadf8\uc778"})}),Object(L.jsx)("div",{children:Object(L.jsx)(F.a,{className:"loginButton",size:"large",variant:"contained",onClick:function(){},children:"\uce74\uce74\uc624\ub85c \ub85c\uadf8\uc778"})}),Object(L.jsx)("div",{children:Object(L.jsx)("button",{className:"loginButton buttonColorNaver",size:"large",variant:"contained",onClick:function(){},children:"\ub124\uc774\ubc84\ub85c \ub85c\uadf8\uc778"})})]}))},A=n(0),T=n.n(A),U=n(2),W=n(237),z=n(229),G=n(226),Y=n(233),P=Object(G.a)((function(e){var t=e.spacing,n=e.palette,c='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"';return{card:{display:"flex",padding:t(2),minWidth:288,width:350,margin:t(1),borderRadius:12,boxShadow:"0 2px 4px 0 rgba(138, 148, 159, 0.2)","& > *:nth-child(1)":{marginRight:t(2)},"& > *:nth-child(2)":{flex:"auto"},cursor:"pointer"},avatar:{width:80,height:80},heading:{fontFamily:c,fontSize:16,marginBottom:0},subheader:{fontFamily:c,fontSize:14,color:n.grey[600],letterSpacing:"1px",marginBottom:4},value:{marginLeft:8,fontSize:14,color:n.grey[500]}}})),q=Object(G.a)((function(){return{root:{height:4},rail:{borderRadius:10,height:4,backgroundColor:"rgb(202,211,216)"},track:{borderRadius:10,height:4,backgroundColor:"rgb(117,156,250)"},thumb:{display:"none"}}})),H=function(){var e=Object(U.a)(T.a.mark((function e(t,n){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(d.b)(O,"ClientInfoDataBase","".concat(t,"_").concat(n)),e.next=3,Object(d.c)(c);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=Object(c.memo)((function(e){var t=e.userItem,n=e.screenMode,a=Object(c.useContext)(B).dispatch,r=t.email?"".concat(t.email,"_").concat(t.profileId):"",o=Object(c.useState)(null),i=Object(s.a)(o,2),l=i[0],d=i[1],j=Object(c.useState)({}),b=Object(s.a)(j,2),O=b[0],h=b[1];console.log("UserCard render()...",t),Object(c.useEffect)((function(){try{var e=Object(u.c)(g,"/profile_thumbnails/".concat(r,".png"));Object(u.a)(e).then((function(e){console.log("download_url=",e),window.localStorage.setItem(r,JSON.stringify(e)),d(e)}))}catch(t){}}),[t,r]),Object(c.useEffect)((function(){try{H(t.email,t.profileId).then((function(e){console.log("clientInfo =>",e.data()),h(e.data())}))}catch(e){}}),[t]);var x="",f=" \uc77d\uc5c8\uc2b5\ub2c8\ub2e4.";n===p?x=" \uc624\ub298 ":n===v?x=" \uc774\ubc88 \uc8fc ":n===k?x=" \uc774\ubc88 \ub2ec ":n===y&&(x=" \uc88b\uc544\uc694: ",f="");var m=P(),w=q(),C=O&&O.read&&O.goal?Math.floor(100*O.read/O.goal):0;return Object(L.jsxs)(W.a,{className:Object(R.a)(m.card),elevation:0,onClick:function(){!function(e,t){e({type:S,user:t})}(a,O)},children:[Object(L.jsx)(Y.a,{src:l,className:m.avatar}),Object(L.jsxs)(E.a,{children:[Object(L.jsx)("h3",{className:m.heading,children:O.profileName}),Object(L.jsxs)("p",{className:m.subheader,children:[O.age,"\uc138 \u2022",x," ",Object(L.jsx)("span",{style:{color:"brown"},children:n===y?t.like:t.read})," ",f]}),Object(L.jsxs)(E.a,{display:"flex",alignItems:"center",children:[Object(L.jsx)(z.a,{classes:w,value:C}),Object(L.jsxs)("span",{className:m.value,children:[O.read,"/",O.goal]})]})]})]})})),Q=function(e){var t=new Date(e.getFullYear(),0,1),n=Math.floor((e-t)/864e5);return Math.floor((e.getDay()+1+n)/7)},V=function(){var e=Object(U.a)(T.a.mark((function e(t){var n,c,a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date,c="",a=null,console.log(t),r=50,t===p?c="UserRank/Rank_Day_".concat(n.getFullYear(),"_").concat(n.getMonth()+1,"_").concat(n.getDate(),"/Rank_Day_").concat(n.getFullYear(),"_").concat(n.getMonth()+1,"_").concat(n.getDate()):t===v?c="UserRank/Rank_Week_".concat(n.getFullYear(),"_").concat(Q(n),"/Rank_Week_").concat(n.getFullYear(),"_").concat(Q(n)):t===k?c="UserRank/Rank_Month_".concat(n.getFullYear(),"_").concat(n.getMonth()+1,"/Rank_Month_").concat(n.getFullYear(),"_").concat(n.getMonth()+1):t===w?c="ClientInfoDataBase":t===y?(c="ClientInfoDataBase",a=Object(d.h)(Object(d.a)(O,c),Object(d.i)("like",">",0),Object(d.g)("like","desc"),Object(d.f)(r))):"famous-book"===t?c="Books":"recent-review"===t&&(c="MessageDataBase",a=Object(d.h)(Object(d.a)(O,c),Object(d.g)("updatedDate","desc"),Object(d.f)(r))),console.log("query path = ",c),c){e.next=9;break}return e.abrupt("return",new Promise((function(e){e([])})));case 9:return null===a&&(a=Object(d.h)(Object(d.a)(O,c),Object(d.i)("read",">",0),Object(d.g)("read","desc"),Object(d.f)(r))),e.next=12,Object(d.d)(a);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.useContext)(B).state,t=Object(c.useState)(null),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(null),i=Object(s.a)(o,2),l=i[0],d=i[1],j=e.mode;return console.log("################ UserList render() userList=>",j,l),Object(c.useEffect)((function(){try{r(null),d(null),V(j).then((function(e){var t=[];e.forEach((function(e){var n=e.data();t.push(n)})),console.log("UserList ===> itemList ==> ",t),d(t)}))}catch(e){r(e)}}),[j]),j!==k&&j!==v&&j!==p&&j!==w&&j!==y?Object(L.jsx)("div",{}):a?Object(L.jsx)(E.a,{marginTop:"10em",sx:{textAlign:"center",verticalAlign:"middle",height:"100rem"},children:Object(L.jsxs)("h5",{children:["\ub370\uc774\ud130 \ub85c\ub529\uc911\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. ",a]})}):null===l?Object(L.jsx)(E.a,{marginTop:"10em",sx:{textAlign:"center",verticalAlign:"middle",height:"100rem"},children:Object(L.jsx)("h5",{children:"\ub370\uc774\ud0c0\ub97c \ub85c\ub529\uc911\uc785\ub2c8\ub2e4..."})}):Object(L.jsx)(E.a,{marginTop:"5em",sx:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},children:l&&l.length>0?l.map((function(e,t){return Object(L.jsx)(J,{userItem:e,screenMode:j},""+t)})):Object(L.jsx)("div",{children:Object(L.jsx)("h2",{children:"\ub370\uc774\ud0c0\ub97c \ub85c\ub529\uc911\uc785\ub2c8\ub2e4..."})})})},X=n(106),Z=n(239),$=n(241),ee=n(242),te=n(76),ne=n(228),ce=n(124),ae=n.n(ce),re=n(240),oe=n(225),se=n(235),ie=n(214),le=n(215),de=[{mode:y,value:"\uc778\uae30 \ub9ac\ubdf0\uc5b4"},{mode:p,value:"\uc624\ub298\uc758 \ub3c5\uc11c\uc655"},{mode:v,value:"\uc8fc\uac04 \ub3c5\uc11c\uc655"},{mode:k,value:"\uc6d4\uac04 \ub3c5\uc11c\uc655"},{mode:w,value:"\ubca0\uc2a4\ud2b8 \ub9ac\ub354"}],je=["Profile","Account","Dashboard","Logout"],ue=function(e){var t=e.children,n=e.window,c=Object(ie.a)({target:n?n():void 0});return Object(L.jsx)(le.a,{appear:!1,direction:"down",in:!c,children:t})},be=function(e){var t=Object(c.useContext)(B),n=t.state,a=t.dispatch,r=t.logout,o=e.user,i=Object(c.useState)(null),l=Object(s.a)(i,2),d=l[0],j=l[1],b=Object(c.useState)(null),O=Object(s.a)(b,2),h=O[0],x=O[1],m=Object(c.useState)(null),p=Object(s.a)(m,2),v=p[0],k=p[1],y=Object(c.useState)(function(e){var t=de.filter((function(t){return e===t.mode}));return t.length>0?(console.log("getDefaultTitle=>",t),t[0].value):"\ucc9c\uad8c\uc77d\uae30"}(f)),w=Object(s.a)(y,2),C=w[0],S=w[1];if(console.log("ResponsiveAppBar title=>",C,n.mode),Object(c.useEffect)((function(){if(o){var e="".concat(o.email),t=o.photoURL;if(console.log("ResponsiveAppBar downloadUrl=>",t),t)k(t);else{var n=Object(u.c)(g,"/profile_thumbnails/".concat(e,".png"));Object(u.a)(n).then((function(e){console.log("Me download_url=",e),k(e)}))}}}),[o]),!o)return Object(L.jsx)("div",{});var D=function(e){if(console.log("handleCloseNavMenu",e),j(null),"Logout"===e.target.innerText)return console.log("Logout~!!!"),x(null),k(""),void r(a);e.target.dataset.index?a({type:N,mode:e.target.dataset.index}):e.target.parentElement.dataset.index&&(S(e.target.innerText),a({type:N,mode:e.target.parentElement.dataset.index}))};return Object(L.jsx)(ue,Object(X.a)(Object(X.a)({},e),{},{children:Object(L.jsx)(Z.a,{sx:{background:"#F08080"},children:Object(L.jsx)(re.a,{maxWidth:"xl",children:Object(L.jsxs)($.a,{disableGutters:!0,children:[Object(L.jsx)("div",{style:{cursor:"pointer"},onClick:function(){a({type:N,mode:f})},children:Object(L.jsx)(te.a,{variant:"h5",noWrap:!0,component:"div",fontFamily:"Gamja Flower",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"\ucc9c\uad8c\uc77d\uae30"})}),Object(L.jsxs)(E.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(L.jsx)(ee.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){console.log("handleOpenNavMenu=>",e.currentTarget),j(e.currentTarget)},color:"inherit",children:Object(L.jsx)(ae.a,{})}),Object(L.jsx)(ne.a,{id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(d),onClose:D,sx:{display:{xs:"block",md:"none"}},children:de.map((function(e){return Object(L.jsx)(se.a,{"data-index":e.mode,onClick:D,children:Object(L.jsx)(te.a,{textAlign:"center",children:e.value})},e.mode)}))})]}),Object(L.jsx)(te.a,{variant:"h6",noWrap:!0,component:"div",fontFamily:"Gamja Flower",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:C}),Object(L.jsx)(E.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:de.map((function(e){return Object(L.jsx)(F.a,{"data-index":e.mode,onClick:D,sx:{my:2,color:"white",display:"block"},children:e.value},e.mode)}))}),Object(L.jsxs)(E.a,{sx:{flexGrow:0},children:[Object(L.jsx)(oe.a,{title:"Open settings",children:Object(L.jsx)(ee.a,{onClick:function(e){console.log("handleOpenUserMenu=>",e.currentTarget),x(e.currentTarget)},sx:{p:0},children:Object(L.jsx)(Y.a,{alt:"Remy Sharp",src:v})})}),Object(L.jsx)(ne.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(h),onClose:function(){x(null)},children:je.map((function(e){return Object(L.jsx)(se.a,{onClick:D,children:Object(L.jsx)(te.a,{textAlign:"center",children:e})},e)}))})]})]})})})}))},Oe=n(246),he=n(247),ge=n(223),xe=n(245),fe=n(248),me=n(224),pe=n(249),ve=(n(115),n(221)),ke=function(e){var t=e.user,n=Object(c.useState)(null),a=Object(s.a)(n,2),r=a[0],o=a[1],i=t.email?"".concat(t.email,"_").concat(t.profileId):"";return console.log("UserAvatar====>",t),Object(c.useEffect)((function(){var e=Object(u.c)(g,"/profile_thumbnails/".concat(i,".png"));Object(u.a)(e).then((function(e){console.log("download_url=",e),o(e)}))}),[t,i]),Object(L.jsx)(Y.a,{src:r,alt:"No image"})},ye=function(e){var t=e.users,n=[];return t.forEach((function(e){n.push(Object(L.jsx)(ke,{user:e}))})),Object(L.jsx)(ve.a,{mt:2,direction:"row",spacing:2,children:n})},we=n(243),Ce=n(231),Ne=n(244),Se=n(222),Be=function(){var e=Object(U.a)(T.a.mark((function e(t,n){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(d.b)(O,"ClientInfoDataBase","".concat(t,"_").concat(n)),e.next=3,Object(d.c)(c);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),De=function(e){var t=e.review,n=Object(c.useState)(null),a=Object(s.a)(n,2),r=a[0],o=a[1];console.log("Review =======> ",t);var i={email:t.writerEmail,profileId:t.writerProfileId};return Object(c.useEffect)((function(){Be(i.email,i.profileId).then((function(e){console.log("clientInfo =>",e.data()),o(e.data())}))}),[i.email,i.profileId]),Object(L.jsxs)(Ce.a,{alignItems:"flex-start",children:[Object(L.jsx)(Ne.a,{children:Object(L.jsx)(ke,{alt:"No image",user:i})}),Object(L.jsx)(Se.a,{primary:r?r.profileName:"",secondary:t.bodyMessage})]})},Ie=function(){var e=Object(U.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.h)(Object(d.a)(O,"MessageDataBase"),Object(d.i)("isbn","==",t),Object(d.g)("updatedDate","desc"),Object(d.f)(20)),e.next=3,Object(d.d)(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(e){var t=e.isbn,n=Object(c.useState)(null),a=Object(s.a)(n,2),r=a[0],o=a[1];return console.log("ReviewList ===>",t),Object(c.useEffect)((function(){Ie(t).then((function(e){var t=[];e.forEach((function(e){var n=e.data();t.push(Object(L.jsx)(De,{review:n}))})),o(t)}))}),[t]),r?0===r.length?Object(L.jsx)(te.a,{style:{textAlign:"center"},id:"modal-modal-description",sx:{mt:2},children:"\uc791\uc131\ub41c \ub9ac\ubdf0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. "}):Object(L.jsx)(we.a,{children:r}):Object(L.jsx)(xe.a,{})},Ee={display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},Re=function(){var e=Object(U.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.b)(O,"Books",t),e.next=3,Object(d.c)(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e){var t=e.book,n=Object(c.useState)(null),a=Object(s.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(null),l=Object(s.a)(i,2),d=l[0],j=l[1],b=Object(c.useState)(!1),O=Object(s.a)(b,2),h=O[0],x=O[1],f=Object(c.useState)(null),m=Object(s.a)(f,2),p=m[0],v=m[1];console.log("Book===>",r);var k=t[11];r&&(k=r);var y=function(){x(!0),function(e,t,n){console.log("LoadBookDetails ====> ",e),Re(e).then((function(e){var c=e.data();console.log("LoadBookDetails Success !!!! ====> ",e.data()),c.imageLinkBig&&(console.log("LoadBookDetails imageLinkBig==>",c.imageLinkBig),n(c.imageLinkBig)),t(e.data())})).catch((function(e){console.log("LoadBookDetails Error !!!! ====> ",e),t({})}))}(t[12],v,j)};Object(c.useEffect)((function(){if(k.startsWith("gs://")){var e=Object(u.c)(g,k);Object(u.a)(e).then((function(e){console.log("BookThumbnail download_url=",e),o(e)}))}else o(k)}),[]);var w=+t[14],C=new Date(w);console.log("read date=",C);var N="".concat(C.getFullYear(),"\ub144 ").concat(C.getMonth()+1,"\uc6d4 ").concat(C.getDate(),"\uc77c");return Object(L.jsxs)("div",{children:[Object(L.jsx)(re.a,{className:"bookImgContainer",children:r&&r.startsWith("http")?Object(L.jsx)("img",{onClick:y,className:"bookImg",src:r,alt:t[2]}):Object(L.jsxs)("div",{onClick:y,className:"image",children:[Object(L.jsx)("img",{className:"bookImg",src:"",alt:""}),Object(L.jsx)("div",{className:"text",children:t[2]})]})}),Object(L.jsxs)(Oe.a,{open:h,onClose:function(){x(!1)},"aria-labelledby":"customized-dialog-title","aria-describedby":"modal-modal-description",scroll:"paper",className:"dialogStyle",children:[Object(L.jsxs)(he.a,{id:"modal-modal-description",sx:{mt:2},children:[Object(L.jsx)(ge.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:t[2]}),Object(L.jsx)(E.a,{sx:Ee,children:Object(L.jsx)("img",{className:"bookImgLarge",src:d||(r||""),alt:t[2],onError:function(e){console.log("handleOnImageError === ",e.target.src,r,e),e.target.src&&r&&e.target.src!==r&&(e.target.src=r)}})}),Object(L.jsxs)(te.a,{id:"modal-modal-description",sx:{mt:2},children:[Object(L.jsx)("span",{style:{color:"red"},children:N}),"\uc5d0 \uc77d\uc5c8\uc2b5\ub2c8\ub2e4."]}),null!==p?p.read?Object(L.jsxs)("div",{children:[Object(L.jsxs)(te.a,{id:"modal-modal-description",sx:{mt:2},children:["\ucc9c\uad8c\uc77d\uae30 \ud68c\uc6d0 \ucd1d ",Object(L.jsx)("span",{style:{color:"red"},children:p.read})," \uba85\uc774 \uc77d\uc5c8\uc2b5\ub2c8\ub2e4."]}),Object(L.jsx)(he.a,{children:Object(L.jsx)(ye,{style:{display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},users:p.readPeople})})]}):Object(L.jsx)("div",{}):Object(L.jsx)(xe.a,{}),Object(L.jsx)(fe.a,{id:"alert-dialog-description",children:Object(L.jsx)(te.a,{id:"modal-modal-description",sx:{mt:3},children:t[7]})}),Object(L.jsx)(me.a,{sx:{mt:2}}),Object(L.jsx)(_e,{isbn:t[12]})]}),Object(L.jsx)(pe.a,{children:t[10]?Object(L.jsx)(F.a,{onClick:function(){x(!1),window.open(t[10])},children:"\uc774 \ucc45\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9 \ubcf4\ub7ec\uac00\uae30"}):Object(L.jsx)("div",{})})]})]})},Le=function(){var e=Object(c.useContext)(B).state,t=Object(c.useState)(null),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(null),i=Object(s.a)(o,2),l=i[0],d=i[1];console.log("BookShelf state=>",e);var j=e.mode,b=e.selectedUser;if(Object(c.useEffect)((function(){if(b){console.log("BookShelf download db...",b),r(null),d(null);var e=Object(u.c)(g,"/databases/".concat(b.email,".db"));Object(u.a)(e).then((function(e){console.log("download_url=",e),window.initSqlJs({locateFile:function(e){return"/dist/".concat(e)}}).then((function(t){console.log("SQL",t);var n=e,c=new XMLHttpRequest;c.responseType="arraybuffer",c.onload=function(e){try{var n=c.response,a=new Uint8Array(n),o=new t.Database(a).exec("SELECT * FROM tbl_favorite WHERE profileid = ".concat(b.profileId," AND pagecount >= 0 ORDER BY readdate DESC LIMIT 100"));console.log("contents ==>",o),o.length>0&&o[0].values?r(o[0].values):r([])}catch(s){console.log("database error ~~~> ",s),d(s)}},c.open("GET",n),c.send()}))}))}}),[b]),j!==C)return Object(L.jsx)("div",{className:"hidden"});if(l)return Object(L.jsx)(E.a,{marginTop:"10em",sx:{textAlign:"center",verticalAlign:"middle",height:"100rem"},children:Object(L.jsx)("h5",{children:"\ub3c4\uc11c \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub85c\ub529\uc911\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."})});if(null===a)return Object(L.jsxs)(E.a,{marginTop:"10em",sx:{textAlign:"center",verticalAlign:"middle",height:"100rem"},children:[Object(L.jsx)(xe.a,{className:"circularProgress",color:"inherit"}),Object(L.jsx)("h6",{children:"\ub3c4\uc11c \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c \ub85c\ub529\uc911\uc785\ub2c8\ub2e4..."})]});console.log("BookShelf render() ===>",j);var O=a.slice(0,100);return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(E.a,{className:"bookShelfCard",sx:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},children:[Object(L.jsx)(ke,{user:b})," ",Object(L.jsxs)("span",{style:{marginLeft:"10px",padding:"5px"},children:[b.profileName," \u2022 (\ucd5c\uadfc\uc5d0 \uc77d\uc740 \ucc45\ub4e4)"]})]}),Object(L.jsx)(E.a,{sx:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},children:O.map((function(e,t){return Object(L.jsx)(Fe,{book:e},""+t)}))})]})},Me=n.p+"static/media/icon.30816d4f.png",Ae=n.p+"static/media/user_card.cd3ccae2.png",Te=n.p+"static/media/bookshelf2.4ebac43f.png",Ue=n(250),We=(n(158),function(){var e=Object(c.useContext)(B).state.mode;return console.log("Home render() ======> ",e),e!==f?Object(L.jsx)("div",{}):Object(L.jsxs)(E.a,{paddingTop:"5rem",textAlign:"center",children:[Object(L.jsx)("img",{src:_,className:"logo"}),Object(L.jsx)("h1",{className:"main-title",children:"\ub3c5\uc11c\uc758 \ud798, \uc571\uc73c\ub85c \ud0a4\uc6cc\uc694"}),Object(L.jsx)("div",{className:"sub-title",children:Object(L.jsxs)("p",{children:["\ucc45\uc77d\uae30 \uc2eb\uc5b4\ud558\ub294 \uc790\ub140\ub97c ~",Object(L.jsx)("br",{}),"\uc2a4\uc2a4\ub85c \ub3c5\uc11c\ud558\ub294 \uc544\uc774\ub85c ~"]})}),Object(L.jsx)("img",{src:Ae,className:"userCard"}),Object(L.jsxs)("div",{className:"margin-top-desc",children:[Object(L.jsx)("p",{className:"main-title",children:"\ub3c5\uc11c\uc758 \ud398\uc774\uc2a4\uba54\uc774\ucee4"}),Object(L.jsx)("div",{className:"main-description",children:Object(L.jsxs)("p",{children:[Object(L.jsx)("span",{style:{color:"#B44C4F"},children:"\ub2ec\uc131\uc728"}),"\uc744 \ubcf4\uba74\uc11c \ubaa9\ud45c\ub7c9\uc744 \ud5a5\ud574 \ub2ec\ub9bd\ub2c8\ub2e4.",Object(L.jsx)("br",{}),"\uce5c\uad6c\uc640 \ud568\uaed8 ",Object(L.jsx)("span",{style:{color:"#B44C4F"},children:"\ub3c5\uc11c\ubc29"}),"\uc744 \ub9cc\ub4e4\uace0 \uc77d\uc740 \ucc45\uc744 \uacf5\uc720\ud569\ub2c8\ub2e4.",Object(L.jsx)("br",{}),"\uc624\ub298\uc758 ",Object(L.jsx)("span",{style:{color:"#B44C4F"},children:"\ub3c5\uc11c\uc655, \uc8fc\uac04, \uc6d4\uac04 \ub3c5\uc11c\uc655"}),"\uc5d0 \ub3c4\uc804\ud574 \ubcf4\uc138\uc694.",Object(L.jsx)("br",{}),"\uba85\uc608\uc758 \uc804\ub2f9\uc5d0 \uc624\ub978 \uce5c\uad6c\ub4e4\uc758 ",Object(L.jsx)("span",{style:{color:"#B44C4F"},children:"\ub3c5\uc11c\uc774\ub825"}),"\uc744 \ubcf4\uba70 \ub3c5\uc11c\uc758 \ub9c8\uc74c\uac00\uc9d0\uc744 \uc0c8\ub86d\uac8c \ud569\ub2c8\ub2e4."]})})]}),Object(L.jsx)("img",{src:Te,className:"userCard"}),Object(L.jsxs)("div",{className:"margin-top-desc",children:[Object(L.jsx)("p",{className:"main-title",children:"\ub3c5\uc11c \ub3d9\uae30 \uc804\ubb38\uac00"}),Object(L.jsx)("div",{className:"main-description",children:Object(L.jsxs)("p",{children:["\uc120\ub73b \ud63c\uc790 \uc2dc\uc791\ud558\uae30 \uc5b4\ub824\uc6b0\uc2dc\ub2e4\uba74 ",Object(L.jsx)("span",{style:{color:"#B44C4F"},children:"\ubc29\ud559\ub808\uc774\uc2a4"})," \ucc38\uc5ec\ud574\ubcf4\uc138\uc694.",Object(L.jsx)("br",{}),"\ud568\uaed8 \ub2ec\ub9ac\ub294 \uc7ac\ubbf8\ub85c \uc5b4\ub290\ub367 \ubaa9\ud45c\ub7c9\uc5d0 \ub3c4\ub2ec\ud569\ub2c8\ub2e4.",Object(L.jsx)("br",{}),"\uc644\uc8fc \ud6c4 \uc8fc\uc5b4\uc9c0\ub294 \ubc43\uc9c0\uc640 \uc0c1\uc7a5\uc5d0 \ubfcc\ub4ef\ud568\uc740 \ub450 \ubc30~"]})})]}),Object(L.jsxs)("div",{className:"margin-top-desc",children:[Object(L.jsx)("p",{className:"main-title",children:"\ucc9c\uad8c\uc77d\uae30\ub97c \ud65c\uc6a9\ud574\ubcf4\uc138\uc694"}),Object(L.jsx)("div",{className:"sub-title",children:Object(L.jsxs)("p",{children:["\ucc45\uc77d\uae30 \uc2eb\uc5b4\ud558\ub294 \uc790\ub140\ub97c",Object(L.jsx)("br",{}),"\uc2a4\uc2a4\ub85c \ub3c5\uc11c\ud558\ub294 \uc544\uc774\ub85c"]})})]}),Object(L.jsxs)(Ue.a,{underline:"hover",color:"#3a3737",href:"https://play.google.com/store/apps/details?id=com.yeoniyouni.readbooks&hl=ko",target:"_blank",children:[Object(L.jsx)("img",{className:"img-icon-book margin-top-desc",src:Me}),Object(L.jsx)("div",{className:"link-button",children:"\ucc9c\uad8c\uc77d\uae30 \uc571 \uc124\uce58\ud558\uae30"})]})]})}),ze=n(251),Ge=n(126),Ye=(n(159),function(e){h.signOut().then((function(t){console.log("signed out~!!"),e({type:N,mode:m})})).catch((function(e){console.log("signed out failed~!!!",e)}))});var Pe=function(e){var t=Object(c.useReducer)(I,D,void 0),n=Object(s.a)(t,2),a=n[0],r=n[1];console.log("App state=>",a);var o=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=h.onAuthStateChanged((function(e){console.log("authUser=>",e),a(e||null)}));return function(){e()}}),[]),n}();console.log("app render()...",o),Object(c.useEffect)((function(){r(null===o?{type:N,mode:m}:{type:N,mode:f})}),[o]);var i=Object(Ge.a)();return Object(L.jsx)(B.Provider,{value:{state:a,dispatch:r,logout:Ye},children:Object(L.jsx)(ze.a,{theme:i,children:Object(L.jsxs)("div",{children:[Object(L.jsx)(be,{props:e,user:o}),Object(L.jsx)(M,{}),Object(L.jsx)(We,{}),Object(L.jsx)(K,{}),Object(L.jsx)(Le,{})]})})})},qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,252)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};n(160);o.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(Pe,{})}),document.getElementById("root")),qe()}},[[161,1,2]]]);
//# sourceMappingURL=main.35f7eaa1.chunk.js.map