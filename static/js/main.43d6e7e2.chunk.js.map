{"version":3,"sources":["firebase/features.js","const.js","hooks/reducer.js","components/Signin.js","components/UserItem.js","components/ReviewItem.js","components/UserList.js","components/ResponsiveAppBar.js","App.js","reportWebVitals.js","index.js"],"names":["firebaseApp","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","fbDB","getAnalytics","getFirestore","fbAuth","getAuth","fbStorage","getStorage","googleAuthProvider","GoogleAuthProvider","SCREEN_MODE_SIGN_IN","SCREEN_MODE_USER_RANK_DAILY","SCREEN_MODE_USER_RANK_WEEKLY","SCREEN_MODE_USER_RANK_MONTHLY","SCREEN_MODE_GOOD_WRITER","SCREEN_MODE_FAMOUS_BOOK","SCREEN_MODE_RECENT_REVIEW","SCREEN_MODE_BEST_READER","ACTION_CHANGE_MODE","ACTION_USER_RANK_DATA_RECEIVED","MyContext","React","createContext","initValues","mode","userRankList","stateReducer","state","action","newState","console","log","type","Object","assign","Signin","useContext","dispatch","className","Button","onClick","signInWithPopup","then","result","token","credentialFromResult","accessToken","user","catch","error","errorCode","code","errorMessage","message","email","credential","credentialFromError","login","UserItem","userItem","screenMode","useState","imageUrl","setImageUrl","userUrl","profileId","downloadUrl","JSON","parse","window","localStorage","getItem","useEffect","storageRef","ref","getDownloadURL","value","setItem","stringify","imageLinkBig","imageLink","_className","title","like","read","src","alt","ReviewItem","reviewItem","bodyMessage","getWeekOfYear","currentDate","oneJan","Date","getFullYear","numberOfDays","Math","floor","getDay","queryCallAsync","a","date","path","q","getMonth","getDate","query","collection","where","orderBy","limit","getDocs","UserList","userList","r","itemList","forEach","doc","data","push","LoadData","userItems","i","length","_data","item","pages","settings","HideOnScroll","props","children","trigger","useScrollTrigger","target","undefined","Slide","appear","direction","in","ResponsiveAppBar","logout","anchorElNav","setAnchorElNav","anchorElUser","setAnchorElUser","setTitle","photoURL","handleCloseNavMenu","innerText","dataset","index","parentElement","AppBar","Container","maxWidth","Toolbar","disableGutters","Typography","variant","noWrap","component","sx","mr","display","xs","md","Box","flexGrow","IconButton","size","event","currentTarget","color","Menu","id","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","map","page","MenuItem","textAlign","my","Tooltip","p","Avatar","mt","setting","signOut","App","useReducer","authUser","setAuthUser","unlisten","onAuthStateChanged","useFirebaseAuthentication","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.43d6e7e2.chunk.js","sourcesContent":["import {initializeApp} from \"firebase/app\";\nimport {getAnalytics} from \"firebase/analytics\";\nimport {getFirestore} from \"firebase/firestore\";\nimport {getAuth, GoogleAuthProvider} from \"firebase/auth\";\nimport {getStorage} from \"firebase/storage\";\n\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyCGerFrxYZ2_MfRCURUdsqMuD2-9V-B7g4\",\n\tauthDomain: \"readbooks-164200.firebaseapp.com\",\n\tdatabaseURL: \"https://readbooks-164200.firebaseio.com\",\n\tprojectId: \"readbooks-164200\",\n\tstorageBucket: \"readbooks-164200.appspot.com\",\n\tmessagingSenderId: \"451518411017\",\n\tappId: \"1:451518411017:web:cced9b89a6030da16963d8\",\n\tmeasurementId: \"G-8WQD7EGSVQ\"\n};\n\nexport const firebaseApp = initializeApp(firebaseConfig);\nexport const fbAnalytics = getAnalytics(firebaseApp);\nexport const fbDB = getFirestore(firebaseApp);\nexport const fbAuth = getAuth(firebaseApp);\nexport const fbStorage = getStorage(firebaseApp)\nexport const googleAuthProvider = new GoogleAuthProvider();","\nexport const SCREEN_MODE_INIT = \"init\";\nexport const SCREEN_MODE_SIGN_IN = \"sign-in\";\nexport const SCREEN_MODE_USER_RANK_DAILY = \"user-rank-daily\";\nexport const SCREEN_MODE_USER_RANK_WEEKLY = \"user-rank-weekly\";\nexport const SCREEN_MODE_USER_RANK_MONTHLY = \"user-rank-monthly\";\nexport const SCREEN_MODE_GOOD_WRITER = \"good-writer\";\nexport const SCREEN_MODE_FAMOUS_BOOK = \"famous-book\";\nexport const SCREEN_MODE_RECENT_REVIEW = \"recent-review\";\nexport const SCREEN_MODE_BEST_READER = \"best-reader\";\nexport const SCREEN_MODE_FIND_USER = \"find-user\";\n\nexport const ACTION_CHANGE_MODE = \"change-mode\";\nexport const ACTION_USER_RANK_DATA_RECEIVED = \"user-rank-data-received\";","import React from 'react';\nimport {ACTION_CHANGE_MODE, ACTION_USER_RANK_DATA_RECEIVED, SCREEN_MODE_INIT} from \"../const\";\n\nexport const MyContext = React.createContext({});\n\nexport const initValues = {\n\tmode: SCREEN_MODE_INIT,\n\tuserRankList: null\n}\n\nexport const stateReducer = (state, action) => {\n\tconsole.log(\"reducer called~!\", state, action);\n\tlet newState;\n\tswitch (action.type) {\n\t\tcase ACTION_CHANGE_MODE: {\n\t\t\tnewState = Object.assign({}, state, {\n\t\t\t\tmode: action.mode\n\t\t\t})\n\t\t\tbreak;\n\t\t}\n\t\tcase ACTION_USER_RANK_DATA_RECEIVED: {\n\t\t\tnewState = Object.assign({}, state, {\n\t\t\t\tuserRankList: action.userRankList\n\t\t\t})\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t\tnewState = initValues;\n\t}\n\tconsole.log(\"reducer return ===>\", newState);\n\treturn newState;\n}\n\nexport default stateReducer;","import {ACTION_CHANGE_MODE, SCREEN_MODE_SIGN_IN, SCREEN_MODE_USER_RANK_DAILY} from \"../const\";\nimport {fbAuth, googleAuthProvider} from \"../firebase/features\";\nimport {GoogleAuthProvider, signInWithPopup} from \"firebase/auth\";\nimport {useContext} from \"react\";\nimport {MyContext} from \"../hooks/reducer\";\nimport {Button} from \"@mui/material\";\n\n\nconst login = (dispatch) => {\n\tsignInWithPopup(fbAuth, googleAuthProvider)\n\t\t.then((result) => {\n\t\t\t// This gives you a Google Access Token. You can use it to access the Google API.\n\t\t\tconst credential = GoogleAuthProvider.credentialFromResult(result);\n\t\t\tconst token = credential.accessToken;\n\t\t\t// The signed-in user info.\n\t\t\tconst user = result.user;\n\t\t\t// ...\n\t\t\tconsole.log(\"로그인 완료~!!\", user, token);\n\t\t\tdispatch({type: ACTION_CHANGE_MODE, mode: SCREEN_MODE_USER_RANK_DAILY})\n\t\t}).catch((error) => {\n\t\t// Handle Errors here.\n\t\tconst errorCode = error.code;\n\t\tconst errorMessage = error.message;\n\t\t// The email of the user's account used.\n\t\tconst email = error.email;\n\t\t// The AuthCredential type that was used.\n\t\tconst credential = GoogleAuthProvider.credentialFromError(error);\n\t\tconsole.log('error=>', errorCode, errorMessage, email, credential);\n\t\tconsole.log(\"로그인 실패~!!\");\n\t});\n}\n\n\nconst Signin = () => {\n\t// const [state, dispatch] = useReducer(stateReducer, initValues, undefined);\n\tconst {state, dispatch} = useContext(MyContext);\n\tconsole.log('Signin state=>', state);\n\n\tconst mode = state.mode;\n\n\tconsole.log('signin render()', mode)\n\tif (mode !== SCREEN_MODE_SIGN_IN) {\n\t\tconsole.log(\"signin hidden return\")\n\t\treturn (\n\t\t\t<div className=\"hidden\"/>\n\t\t)\n\t}\n\tconsole.log(\"signin general return\")\n\treturn (\n\t\t<div>\n\t\t\t<h1>Sign in screen</h1>\n\t\t\t<Button onClick={\n\t\t\t\t()=> {\n\t\t\t\t\tlogin(dispatch);\n\t\t\t\t}\n\t\t\t}>Google 로 로그인</Button>\n\t\t</div>\n\t)\n}\n\nexport default Signin;","import {useEffect, useState} from \"react\";\nimport {getDownloadURL, ref} from \"firebase/storage\";\nimport {fbStorage} from \"../firebase/features\";\nimport {SCREEN_MODE_FAMOUS_BOOK} from \"../const\";\n\n\nconst UserItem = ({userItem, screenMode}) =>  {\n    const [imageUrl, setImageUrl] = useState(null);\n    console.log(\"UserItem =>\", userItem, screenMode);\n\n    const userUrl = userItem.email ? `${userItem.email}_${userItem.profileId}`: '';\n    const downloadUrl = JSON.parse(window.localStorage.getItem(userUrl));\n    if (downloadUrl) {\n        console.log('############ url cached', userUrl);\n    }\n\n    useEffect(() => {\n        if (userItem.email) { // user\n            if (downloadUrl === null) {\n                let storageRef = ref(fbStorage, `/profile_thumbnails/${userUrl}.png`)\n                getDownloadURL(storageRef).then(value => {\n                    console.log('download_url=', value)\n                    window.localStorage.setItem(userUrl, JSON.stringify(value));\n                    setImageUrl(value)\n                });\n            } else {\n                setImageUrl(downloadUrl);\n            }\n        } else { // book\n            if (userItem.imageLinkBig) {\n                setImageUrl(userItem.imageLinkBig);\n            } else if (userItem.imageLink) {\n                setImageUrl(userItem.imageLink);\n            }\n        }\n    }, [userItem, userUrl, downloadUrl]);\n\n    console.log('UserItem render =>', imageUrl);\n    if (imageUrl) {\n        const _className = (screenMode === SCREEN_MODE_FAMOUS_BOOK) ? \"BookImage\": \"UserImage\";\n        return (\n            <div>\n                <h6>{userItem.email ? `${userItem.email}`: `${userItem.title}`}</h6>\n                {userItem.like ? `${userItem.like} 좋아요`:`${userItem.read}권 읽음`}\n                <br/>\n                <img src={imageUrl} className={_className} alt=\"\"/>\n            </div>\n        );\n    } else {\n        return (<div/>);\n    }\n}\n\nexport default UserItem","\nconst ReviewItem = ({reviewItem}) => {\n\tconsole.log(\"ReviewItem =>\", reviewItem);\n\treturn (\n\t\t<div className=\"ReviewItem\">\n\t\t\t<h6>{reviewItem.bodyMessage}</h6>\n\t\t</div>\n\t);\n\n}\n\nexport default ReviewItem;","import UserItem from \"./UserItem\";\nimport {\n    ACTION_USER_RANK_DATA_RECEIVED,\n    SCREEN_MODE_BEST_READER,\n    SCREEN_MODE_FAMOUS_BOOK,\n    SCREEN_MODE_GOOD_WRITER,\n    SCREEN_MODE_RECENT_REVIEW,\n    SCREEN_MODE_USER_RANK_DAILY,\n    SCREEN_MODE_USER_RANK_MONTHLY,\n    SCREEN_MODE_USER_RANK_WEEKLY\n} from \"../const\";\nimport {collection, getDocs, limit, orderBy, query, where} from \"firebase/firestore\";\nimport {fbDB} from \"../firebase/features\";\nimport {useContext} from \"react\";\nimport {MyContext} from \"../hooks/reducer\";\nimport ReviewItem from \"./ReviewItem\";\n\n\nconst getWeekOfYear = (currentDate) => {\n    const oneJan = new Date(currentDate.getFullYear(),0,1);\n    const numberOfDays = Math.floor((currentDate - oneJan) / (24 * 60 * 60 * 1000));\n    return Math.floor((currentDate.getDay() + 1 + numberOfDays) / 7);\n}\n\nconst queryCallAsync = async (mode) => {\n    const date = new Date();\n    let path = ``;\n    let q = null;\n\n    if (mode === SCREEN_MODE_USER_RANK_DAILY) {\n        path = `UserRank/Rank_Day_${date.getFullYear()}_${date.getMonth() + 1}_${date.getDate()}/Rank_Day_${date.getFullYear()}_${date.getMonth() + 1}_${date.getDate()}`;\n    } else if (mode === SCREEN_MODE_USER_RANK_WEEKLY) {\n        path = `UserRank/Rank_Week_${date.getFullYear()}_${getWeekOfYear(date)}/Rank_Week_${date.getFullYear()}_${getWeekOfYear(date)}`;\n    } else if (mode === SCREEN_MODE_USER_RANK_MONTHLY) {\n        path = `UserRank/Rank_Month_${date.getFullYear()}_${date.getMonth() + 1}/Rank_Month_${date.getFullYear()}_${date.getMonth() + 1}`;\n    } else if (mode === SCREEN_MODE_BEST_READER) {\n        path = `ClientInfoDataBase`;\n    } else if (mode === SCREEN_MODE_GOOD_WRITER) {\n        path = \"ClientInfoDataBase\";\n        q = query(collection(fbDB, path), where(\"like\", \">\", 0), orderBy(\"like\", \"desc\"), limit(20));\n    } else if (mode === SCREEN_MODE_FAMOUS_BOOK) {\n        path = 'Books';\n    } else if (mode === SCREEN_MODE_RECENT_REVIEW) {\n        path = \"MessageDataBase\";\n        q = query(collection(fbDB, path), orderBy(\"updatedDate\", \"desc\"), limit(20));\n    }\n    console.log(\"query path = \", path);\n    if (q === null)\n        q = query(collection(fbDB, path), where(\"read\", \">\", 0), orderBy(\"read\", \"desc\"), limit(20));\n    return await getDocs(q)\n}\n\nconst LoadData = (mode, dispatch) => {\n\n  queryCallAsync(mode).then(r => {\n    let itemList = [];\n    r.forEach((doc) => {\n      const data = doc.data();\n        itemList.push(data);\n\n    });\n    window.localStorage.setItem(mode, JSON.stringify(itemList));\n    dispatch({type: ACTION_USER_RANK_DATA_RECEIVED, userRankList: itemList});\n  });\n}\n\n\nconst UserList = () => {\n    const {state, dispatch} = useContext(MyContext);\n    console.log('UserList state=>', state);\n    const mode = state.mode;\n\n    const userList = JSON.parse(window.localStorage.getItem(mode));\n    console.log('################ UserList render() userList=>', mode, userList);\n\n    if (mode !== SCREEN_MODE_USER_RANK_DAILY && mode !== SCREEN_MODE_USER_RANK_MONTHLY && mode !== SCREEN_MODE_USER_RANK_WEEKLY\n        && mode !== SCREEN_MODE_BEST_READER && mode !== SCREEN_MODE_GOOD_WRITER && mode !== SCREEN_MODE_FAMOUS_BOOK\n        && mode !== SCREEN_MODE_RECENT_REVIEW) {\n      return (\n          <div className=\"hidden\"/>\n      )\n    }\n\n    if (!userList) {\n        console.log(\"try to download...\")\n        LoadData(mode, dispatch);\n        return (\n            <div>\n                <h1>데이타 로딩중...</h1>\n            </div>\n        )\n    }\n\n    let userItems = [];\n    let i = 0;\n    while (i < userList.length) {\n      const _data = userList[i];\n      if (mode === SCREEN_MODE_RECENT_REVIEW) {\n          const item = <ReviewItem key={\"\" + i} reviewItem={_data}/>\n          userItems.push(item);\n      } else {\n          const item = <UserItem key={\"\" + i} userItem={_data} screenMode={mode}/>\n          userItems.push(item);\n      }\n      i = i + 1;\n    }\n\n    console.log('userItems=', userItems);\n    return (\n        <div>\n            <ul>\n                {userItems}\n            </ul>\n        </div>\n    )\n}\n\nexport default UserList","import * as React from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport Menu from '@mui/material/Menu';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport Container from '@mui/material/Container';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport Tooltip from '@mui/material/Tooltip';\nimport MenuItem from '@mui/material/MenuItem';\nimport {useContext, useEffect, useState} from \"react\";\nimport {MyContext} from \"../hooks/reducer\";\nimport {\n\tACTION_CHANGE_MODE,\n\tSCREEN_MODE_BEST_READER,\n\tSCREEN_MODE_FAMOUS_BOOK, SCREEN_MODE_FIND_USER,\n\tSCREEN_MODE_GOOD_WRITER, SCREEN_MODE_RECENT_REVIEW,\n\tSCREEN_MODE_USER_RANK_DAILY, SCREEN_MODE_USER_RANK_MONTHLY,\n\tSCREEN_MODE_USER_RANK_WEEKLY\n} from \"../const\";\nimport {getDownloadURL, ref} from \"firebase/storage\";\nimport {fbStorage} from \"../firebase/features\";\nimport {Slide, useScrollTrigger} from \"@mui/material\";\nimport PropTypes from \"prop-types\";\n\nconst pages = [\n\t{\n\t\tmode: SCREEN_MODE_GOOD_WRITER,\n\t\tvalue: '좋은 글을 쓰는 친구들',\n\t},\n\t{\n\t\tmode: SCREEN_MODE_FAMOUS_BOOK,\n\t\tvalue: '인기 도서'\n\t},\n\t{\n\t\tmode: SCREEN_MODE_RECENT_REVIEW,\n\t\tvalue: '리뷰'\n\t},\n\t{\n\t\tmode: SCREEN_MODE_USER_RANK_DAILY,\n\t\tvalue: '오늘의 독서왕'\n\t},\n\t{\n\t\tmode: SCREEN_MODE_USER_RANK_WEEKLY,\n\t\tvalue: '주간 독서왕'\n\t},\n\t{\n\t\tmode: SCREEN_MODE_USER_RANK_MONTHLY,\n\t\tvalue: '월간 독서왕'\n\t},\n\t{\n\t\tmode: SCREEN_MODE_BEST_READER,\n\t\tvalue: '베스트 리더'\n\t},\n\t{\n\t\tmode: SCREEN_MODE_FIND_USER,\n\t\tvalue: '친구 찾기'\n\t}\n];\n\nconst settings = ['Profile', 'Account', 'Dashboard', 'Logout'];\n\nconst HideOnScroll = (props) => {\n\tconst { children, window } = props;\n\t// Note that you normally won't need to set the window ref as useScrollTrigger\n\t// will default to window.\n\t// This is only being set here because the demo is in an iframe.\n\tconst trigger = useScrollTrigger({\n\t\ttarget: window ? window() : undefined,\n\t});\n\n\treturn (\n\t\t<Slide appear={false} direction=\"down\" in={!trigger}>\n\t\t\t{children}\n\t\t</Slide>\n\t);\n}\n\nHideOnScroll.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\t/**\n\t * Injected by the documentation to work in an iframe.\n\t * You won't need it on your project.\n\t */\n\twindow: PropTypes.func,\n};\n\nconst ResponsiveAppBar = (props) => {\n\tconst {dispatch, logout} = useContext(MyContext);\n\tconsole.log(\"ResponsiveAppBar user=>\", props);\n\tconst user = props.user;\n\n\tconst [anchorElNav, setAnchorElNav] = useState(null);\n\tconst [anchorElUser, setAnchorElUser] = useState(null);\n\tconst [imageUrl, setImageUrl] = useState(null);\n\tconst [title, setTitle] = useState('천권읽기');\n\n\tuseEffect(() => {\n\t\tif (user) {\n\t\t\tconst userUrl = `${user.email}`;\n\t\t\tconst downloadUrl = user.photoURL; //JSON.parse(window.localStorage.getItem(userUrl));\n\t\t\tconsole.log(\"ResponsiveAppBar downloadUrl=>\", downloadUrl);\n\n\t\t\tif (!downloadUrl) {\n\t\t\t\tlet storageRef = ref(fbStorage, `/profile_thumbnails/${userUrl}.png`)\n\t\t\t\tgetDownloadURL(storageRef).then(value => {\n\t\t\t\t\tconsole.log('Me download_url=', value)\n\t\t\t\t\twindow.localStorage.setItem(userUrl, JSON.stringify(value));\n\t\t\t\t\tsetImageUrl(value)\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetImageUrl(downloadUrl);\n\t\t\t}\n\t\t}\n\t}, [user]);\n\n\tconst handleOpenNavMenu = (event) => {\n\t\tconsole.log(\"handleOpenNavMenu=>\", event.currentTarget);\n\t\tsetAnchorElNav(event.currentTarget);\n\t};\n\tconst handleOpenUserMenu = (event) => {\n\t\tconsole.log(\"handleOpenUserMenu=>\", event.currentTarget);\n\t\tsetAnchorElUser(event.currentTarget);\n\t};\n\n\tconst handleCloseNavMenu = (item) => {\n\t\tconsole.log(\"handleCloseNavMenu\", item);\n\t\tsetAnchorElNav(null);\n\t\tif (item.target.innerText === 'Logout') {\n\t\t\tconsole.log('Logout~!!!')\n\t\t\tsetAnchorElUser(null);\n\t\t\tsetImageUrl('');\n\t\t\tlogout(dispatch);\n\t\t\treturn;\n\t\t}\n\t\tif (item.target.dataset.index) {\n\t\t\tdispatch({type: ACTION_CHANGE_MODE, mode: item.target.dataset.index});\n\t\t} else if(item.target.parentElement.dataset.index) {\n\t\t\tsetTitle(item.target.innerText);\n\t\t\tdispatch({type: ACTION_CHANGE_MODE, mode: item.target.parentElement.dataset.index});\n\t\t}\n\t};\n\n\tconst handleCloseUserMenu = () => {\n\t\tsetAnchorElUser(null);\n\t};\n\n\treturn (\n\t\t<HideOnScroll {...props}>\n\t\t<AppBar>\n\t\t\t<Container maxWidth=\"xl\">\n\t\t\t\t<Toolbar disableGutters>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tsx={{ mr: 2, display: { xs: 'none', md: 'flex' } }}\n\t\t\t\t\t>\n\t\t\t\t\t\t천권읽기\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Box sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\taria-label=\"account of current user\"\n\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\tonClick={handleOpenNavMenu}\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\tid=\"menu-appbar\"\n\t\t\t\t\t\t\tanchorEl={anchorElNav}\n\t\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\t\t\t\thorizontal: 'left',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\ttransformOrigin={{\n\t\t\t\t\t\t\t\tvertical: 'top',\n\t\t\t\t\t\t\t\thorizontal: 'left',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\topen={Boolean(anchorElNav)}\n\t\t\t\t\t\t\tonClose={handleCloseNavMenu}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tdisplay: { xs: 'block', md: 'none' },\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{pages.map((page) => (\n\t\t\t\t\t\t\t\t<MenuItem key={page.mode}\n\t\t\t\t\t\t\t\t          data-index={page.mode} onClick={handleCloseNavMenu}>\n\t\t\t\t\t\t\t\t\t<Typography textAlign=\"center\">{page.value}</Typography>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Menu>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tsx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\n\t\t\t\t\t\t{pages.map((page) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={page.mode}\n\t\t\t\t\t\t\t\tdata-index={page.mode}\n\t\t\t\t\t\t\t\tonClick={handleCloseNavMenu}\n\t\t\t\t\t\t\t\tsx={{ my: 2, color: 'white', display: 'block' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{page.value}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t<Box sx={{ flexGrow: 0 }}>\n\t\t\t\t\t\t<Tooltip title=\"Open settings\">\n\t\t\t\t\t\t\t<IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\n\t\t\t\t\t\t\t\t<Avatar alt=\"Remy Sharp\" src={imageUrl} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\tsx={{ mt: '45px' }}\n\t\t\t\t\t\t\tid=\"menu-appbar\"\n\t\t\t\t\t\t\tanchorEl={anchorElUser}\n\t\t\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\t\t\tvertical: 'top',\n\t\t\t\t\t\t\t\thorizontal: 'right',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tkeepMounted\n\t\t\t\t\t\t\ttransformOrigin={{\n\t\t\t\t\t\t\t\tvertical: 'top',\n\t\t\t\t\t\t\t\thorizontal: 'right',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\topen={Boolean(anchorElUser)}\n\t\t\t\t\t\t\tonClose={handleCloseUserMenu}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{settings.map((setting) => (\n\t\t\t\t\t\t\t\t<MenuItem key={setting} onClick={handleCloseNavMenu}>\n\t\t\t\t\t\t\t\t\t<Typography textAlign=\"center\">{setting}</Typography>\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Menu>\n\t\t\t\t\t</Box>\n\t\t\t\t</Toolbar>\n\t\t\t</Container>\n\t\t</AppBar>\n\t\t</HideOnScroll>\n\t);\n};\n\nexport default ResponsiveAppBar;\n","import './App.css';\n\nimport {fbAuth} from \"./firebase/features\";\nimport {useEffect, useReducer, useState} from \"react\";\nimport {ACTION_CHANGE_MODE, SCREEN_MODE_SIGN_IN, SCREEN_MODE_USER_RANK_DAILY} from \"./const\";\nimport Signin from \"./components/Signin\";\nimport UserList from \"./components/UserList\";\nimport stateReducer, {initValues, MyContext} from \"./hooks/reducer\";\nimport ResponsiveAppBar from \"./components/ResponsiveAppBar\";\n\n\nconst useFirebaseAuthentication = () => {\n    const [authUser, setAuthUser] = useState(null);\n\n    useEffect(() =>{\n        const unlisten = fbAuth.onAuthStateChanged(\n            authUser => {\n                console.log(\"authUser=>\", authUser);\n\n                authUser\n                    ? setAuthUser(authUser)\n                    : setAuthUser(null);\n            },\n        );\n        return () => {\n            unlisten();\n        }\n    }, []);\n\n    return authUser\n}\n\nconst logout = (dispatch) => {\n    fbAuth.signOut().then((result)=> {\n        console.log(\"signed out~!!\");\n        dispatch({\n            type: ACTION_CHANGE_MODE,\n            mode: SCREEN_MODE_SIGN_IN\n        });\n    }).catch((error)=> {\n        console.log(\"signed out failed~!!!\", error)\n    });\n}\n\n\nfunction App(props) {\n    const [state, dispatch] = useReducer(stateReducer, initValues, undefined);\n    console.log(\"App state=>\", state);\n    const authUser = useFirebaseAuthentication();\n\n    console.log(\"app render()...\", authUser)\n\n    useEffect(()=>{\n        if (authUser === null) {\n            dispatch({type: ACTION_CHANGE_MODE,\n                mode: SCREEN_MODE_SIGN_IN});\n        } else {\n            dispatch({type: ACTION_CHANGE_MODE,\n                mode: SCREEN_MODE_USER_RANK_DAILY});\n        }\n    }, [authUser]);\n\n    return (\n        <MyContext.Provider value={{state, dispatch, logout}}>\n            <div className=\"App\">\n                <ResponsiveAppBar props={props} user={authUser}/>\n                <Signin/>\n                <UserList/>\n            </div>\n        </MyContext.Provider>\n    );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}