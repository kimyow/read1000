{"version":3,"sources":["firebase/features.js","const.js","hooks/reducer.js","img/image1.svg","components/Signin.js","components/UserCard.js","components/UserList.js","components/ResponsiveAppBar.js","components/UserAvatar.js","components/AvatarList.js","components/Review.js","components/ReviewList.js","components/Book.js","components/BookShelf.js","img/icon.png","img/user_card.png","img/bookshelf2.png","components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["firebaseApp","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","fbDB","getAnalytics","getFirestore","fbAuth","getAuth","fbStorage","getStorage","googleAuthProvider","GoogleAuthProvider","SCREEN_MODE_INIT","SCREEN_MODE_SIGN_IN","SCREEN_MODE_USER_RANK_DAILY","SCREEN_MODE_USER_RANK_WEEKLY","SCREEN_MODE_USER_RANK_MONTHLY","SCREEN_MODE_GOOD_WRITER","SCREEN_MODE_BEST_READER","SCREEN_MODE_BOOK_SHELF","ACTION_CHANGE_MODE","ACTION_USER_SELECTED","MyContext","React","createContext","initValues","mode","userRankList","selectedUser","stateReducer","state","action","newState","console","log","type","Object","assign","user","useSigninStyles","makeStyles","container","height","loginButton","width","margin","maxWidth","padding","border","color","borderRadius","buttonColorGoogle","backgroundColor","buttonColorKakao","buttonColorNaver","signinTitle","marginTop","marginBottom","fontWeight","fontFamily","Signin","useContext","dispatch","styles","className","Box","paddingTop","textAlign","src","logo","signinLogo","clsx","size","variant","onClick","signInWithPopup","then","result","token","credentialFromResult","accessToken","catch","error","errorCode","code","errorMessage","message","email","credential","credentialFromError","loginGoogle","useUserCardStyles","spacing","palette","family","card","display","minWidth","boxShadow","marginRight","flex","cursor","avatar","heading","fontSize","subheader","grey","letterSpacing","value","marginLeft","useSliderStyles","root","rail","track","thumb","queryClientInfo","profileId","a","q","doc","getDoc","UserCard","memo","userItem","screenMode","userUrl","useState","imageUrl","setImageUrl","clientInfo","setClientInfo","useEffect","storageRef","ref","getDownloadURL","window","localStorage","setItem","JSON","stringify","e","data","prefix","postfix","sliderStyles","progressValue","read","goal","Math","floor","Card","cx","elevation","handleCardClick","Avatar","profileName","age","style","like","alignItems","Slider","classes","getWeekOfYear","currentDate","oneJan","Date","getFullYear","numberOfDays","getDay","queryCallAsync","date","path","retrieveNum","getMonth","getDate","query","collection","where","orderBy","limit","Promise","resolve","getDocs","UserList","setError","userList","setUserList","r","itemList","forEach","push","sx","verticalAlign","justifyContent","flexDirection","flexWrap","length","map","i","pages","settings","HideOnScroll","props","children","trigger","useScrollTrigger","target","undefined","Slide","appear","direction","in","ResponsiveAppBar","logout","anchorElNav","setAnchorElNav","anchorElUser","setAnchorElUser","filter","page","getDefaultTitle","title","setTitle","downloadUrl","photoURL","handleCloseNavMenu","item","innerText","dataset","index","parentElement","AppBar","background","Container","Toolbar","disableGutters","Typography","noWrap","component","mr","xs","md","flexGrow","IconButton","event","currentTarget","Menu","id","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","MenuItem","Button","my","Tooltip","p","alt","mt","setting","UserAvatar","imageLink","setImageLink","AvatarList","users","avatar_list","Stack","Review","review","writerEmail","writerProfileId","ListItem","ListItemAvatar","ListItemText","primary","secondary","bodyMessage","queryReviewListAsync","isbn","ReviewList","reviewList","setReviewList","List","CircularProgress","dialogStyle","queryBookDetails","Book","book","imageBigUrl","setImageBigUrl","setOpen","bookDetails","setBookDetails","bookThumbnailUrl","handleClickOpen","imageLinkBig","LoadBookDetails","startsWith","readDate","dateStr","Dialog","scroll","DialogContent","DialogTitle","onError","readPeople","DialogContentText","Divider","DialogActions","BookShelf","contents","setContents","initSqlJs","locateFile","filename","SQL","url","xhr","XMLHttpRequest","responseType","onload","blob","response","uInt8Array","Uint8Array","Database","exec","values","send","books","slice","Home","userCards","bookShelf","Link","underline","href","appIcon","signOut","App","useReducer","authUser","setAuthUser","unlisten","onAuthStateChanged","useFirebaseAuthentication","theme","createTheme","Provider","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qSAiBaA,EAAcC,YAXJ,CACtBC,OAAQ,0CACRC,WAAY,mCACZC,YAAa,0CACbC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKHC,GADcC,YAAaX,GACpBY,YAAaZ,IACpBa,EAASC,YAAQd,GACjBe,EAAYC,YAAWhB,GACvBiB,EAAqB,IAAIC,ICrBzBC,EAAmB,OACnBC,EAAsB,UACtBC,EAA8B,kBAC9BC,EAA+B,mBAC/BC,EAAgC,oBAChCC,EAA0B,cAG1BC,EAA0B,cAE1BC,EAAyB,aAEzBC,EAAqB,cAErBC,EAAuB,gB,OCNvBC,EAAYC,IAAMC,cAAc,IAEhCC,EAAa,CACzBC,KAAMd,EACNe,aAAc,KACdC,aAAc,MAiCAC,EA9Ba,SAACC,EAAOC,GAEnC,IAAIC,EACJ,OAFAC,QAAQC,IAAI,mBAAoBJ,EAAOC,GAE/BA,EAAOI,MACd,KAAKf,EACJY,EAAWI,OAAOC,OAAO,GAAIP,EAAO,CACnCJ,KAAMK,EAAOL,OAEd,MAED,IDb4C,0BCc3CM,EAAWI,OAAOC,OAAO,GAAIP,EAAO,CACnCH,aAAcI,EAAOJ,eAEtB,MAED,KAAKN,EACJW,EAAWI,OAAOC,OAAO,GAAIP,EAAO,CACnCF,aAAcG,EAAOO,KACrBZ,KAAMP,IAEP,MAED,QACCa,EAAWP,EAGb,OADAQ,QAAQC,IAAI,sBAAuBF,GAC5BA,GC5CO,MAA0B,mC,gCCWnCO,EAAkBC,aAAW,WAClC,MAAO,CACNC,UAAU,aACTC,OAAQ,SACP,sCAAwC,CACxCA,OAAQ,UAIVC,YAAa,CACZC,MAAO,MACPC,OAAQ,GACRC,SAAU,IACVC,QAAS,OACTC,OAAQ,OACRC,MAAO,QACPC,aAAc,OAEfC,kBAAmB,CAClBC,gBAAiB,UACjB,UAAW,CACVA,gBAAiB,YAGnBC,iBAAkB,CACjBJ,MAAO,QACPG,gBAAiB,UACjB,UAAW,CACVA,gBAAiB,YAGnBE,iBAAkB,CACjBF,gBAAiB,UACjB,UAAW,CACVA,gBAAiB,YAGnBG,YAAa,CACZC,UAAW,GACXC,aAAa,GACbR,MAAO,UACPS,WAAY,SACZC,WAAY,oBAsFAC,EAhDA,WACd,MAA0BC,qBAAWvC,GAA9BQ,EAAP,EAAOA,MAAOgC,EAAd,EAAcA,SACRpC,EAAOI,EAAMJ,KACbqC,EAASxB,IAGf,OAFAN,QAAQC,IAAI,kBAAmBR,GAE3BA,IAASb,GACZoB,QAAQC,IAAI,wBAEX,qBAAK8B,UAAU,aAGjB/B,QAAQC,IAAI,yBAEX,eAAC+B,EAAA,EAAD,CAAKC,WAAW,QAAQC,UAAU,SAASH,UAAWD,EAAOtB,UAA7D,UACC,qBAAK2B,IAAKC,EAAML,UAAWD,EAAOO,aAClC,oBAAIN,UAAWD,EAAOR,YAAtB,yDACA,8BACC,wBAAQS,UAAWO,YAAKR,EAAOpB,YAAaoB,EAAOZ,mBACjDqB,KAAM,QACNC,QAAS,YAAaC,QACvB,YAtDe,SAACZ,GACpBa,YAAgBrE,EAAQI,GACtBkE,MAAK,SAACC,GAEN,IACMC,EADanE,IAAmBoE,qBAAqBF,GAClCG,YAEnB1C,EAAOuC,EAAOvC,KAEpBL,QAAQC,IAAI,qCAAaI,EAAMwC,GAC/BhB,EAAS,CAAC3B,KAAMf,EAAoBM,KAAMd,OACxCqE,OAAM,SAACC,GAET,IAAMC,EAAYD,EAAME,KAClBC,EAAeH,EAAMI,QAErBC,EAAQL,EAAMK,MAEdC,EAAa7E,IAAmB8E,oBAAoBP,GAC1DjD,QAAQC,IAAI,UAAWiD,EAAWE,EAAcE,EAAOC,GACvDvD,QAAQC,IAAI,yCAmCTwD,CAAY5B,IAJd,wEAQD,8BACC,wBAAQE,UAAWO,YAAKR,EAAOpB,YAAaoB,EAAOV,kBAC3CmB,KAAM,QACNC,QAAS,YAAaC,QAC7B,aAHD,8EAQD,8BACC,wBAAQV,UAAWO,YAAKR,EAAOpB,YAAaoB,EAAOT,kBAC3CkB,KAAM,QACNC,QAAS,YAAaC,QAC7B,aAHD,mF,kDC7GEiB,EAAoBnD,aAAW,YAAyB,IAAvBoD,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,QAC/C5D,QAAQC,IAAI,oBAAqB0D,EAASC,GAC1C,IAAMC,EACL,gJACD,MAAO,CACNC,KAAM,CACLC,QAAS,OACTjD,QAAS6C,EAAQ,GACjBK,SAAU,IACVrD,MAAO,IACPC,OAAQ+C,EAAQ,GAChB1C,aAAc,GACdgD,UAAW,uCACX,qBAAsB,CACrBC,YAAaP,EAAQ,IAEtB,qBAAsB,CACrBQ,KAAM,QAEPC,OAAQ,WAETC,OAAQ,CACP1D,MAAO,GACPF,OAAQ,IAET6D,QAAS,CACR5C,WAAYmC,EACZU,SAAU,GACV/C,aAAc,GAEfgD,UAAW,CACV9C,WAAYmC,EACZU,SAAU,GACVvD,MAAO4C,EAAQa,KAAK,KACpBC,cAAe,MACflD,aAAc,GAEfmD,MAAO,CACNC,WAAY,EACZL,SAAU,GACVvD,MAAO4C,EAAQa,KAAK,UAKjBI,EAAkBtE,aAAW,iBAAO,CACzCuE,KAAM,CACLrE,OAAQ,GAETsE,KAAM,CACL9D,aAAc,GACdR,OAAQ,EACRU,gBAAiB,oBAElB6D,MAAO,CACN/D,aAAc,GACdR,OAAQ,EACRU,gBAAiB,oBAElB8D,MAAO,CACNlB,QAAS,YAILmB,EAAe,uCAAG,WAAO5B,EAAO6B,GAAd,eAAAC,EAAA,6DACjBC,EAAIC,YAAIpH,EAAM,qBAAP,UAAgCoF,EAAhC,YAAyC6B,IAD/B,SAEVI,YAAOF,GAFG,mFAAH,wDAiFNG,EAxEEC,gBAAK,YAA6B,IAA3BC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,WAC1B9D,EAAYD,qBAAWvC,GAAvBwC,SACD+D,EAAUF,EAASpC,MAAT,UAAoBoC,EAASpC,MAA7B,YAAsCoC,EAASP,WAAa,GAC5E,EAAgCU,mBAAS,MAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAoCF,mBAAS,IAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KACAjG,QAAQC,IAAI,uBAAwByF,GAEpCQ,qBAAU,WACT,IACC,IAAIC,EAAaC,YAAI7H,EAAD,8BAAmCqH,EAAnC,SACpBS,YAAeF,GAAYxD,MAAK,SAAAgC,GAC/B3E,QAAQC,IAAI,gBAAiB0E,GAC7B2B,OAAOC,aAAaC,QAAQZ,EAASa,KAAKC,UAAU/B,IACpDoB,EAAYpB,MAEZ,MAAOgC,OAGP,CAACjB,EAAUE,IAEdM,qBAAU,WACT,IACChB,EAAgBQ,EAASpC,MAAOoC,EAASP,WAAWxC,MAAK,SAAA2C,GACxDtF,QAAQC,IAAI,gBAAiBqF,EAAIsB,QACjCX,EAAcX,EAAIsB,WAElB,MAAOD,OAIP,CAACjB,IAEJ,IAAImB,EAAS,GACTC,EAAU,mCAEVnB,IAAe9G,EAClBgI,EAAS,iBACClB,IAAe7G,EACzB+H,EAAS,wBACClB,IAAe5G,EACzB8H,EAAS,wBACClB,IAAe3G,IACzB6H,EAAS,wBACTC,EAAU,IAGX,IAAMhF,EAAS4B,IACTqD,EAAelC,IAEfmC,EAAgBhB,GAAcA,EAAWiB,MAAQjB,EAAWkB,KACjEC,KAAKC,MAAyB,IAAlBpB,EAAWiB,KAAcjB,EAAWkB,MAAQ,EAEzD,OACC,eAACG,EAAA,EAAD,CAAMtF,UAAWuF,YAAGxF,EAAOgC,MAAOyD,UAAW,EACvC9E,QAAS,YA1DO,SAACZ,EAAUmE,GAClCnE,EAAS,CAAC3B,KAAMd,EAAsBiB,KAAM2F,IAyDrBwB,CAAgB3F,EAAUmE,IADhD,UAEC,cAACyB,EAAA,EAAD,CAAQtF,IAAK2D,EAAU/D,UAAWD,EAAOuC,SACzC,eAACrC,EAAA,EAAD,WACC,oBAAID,UAAWD,EAAOwC,QAAtB,SAAgC0B,EAAW0B,cAC3C,oBAAG3F,UAAWD,EAAO0C,UAArB,UAAiCwB,EAAW2B,IAA5C,gBACEd,EADF,IACU,sBAAMe,MAAO,CAAC5G,MAAO,SAArB,SACR2E,IAAe3G,EACd0G,EAASmC,KAAMnC,EAASuB,OAH3B,IAGyCH,KAEzC,eAAC9E,EAAA,EAAD,CAAK+B,QAAS,OAAQ+D,WAAY,SAAlC,UACC,cAACC,EAAA,EAAD,CAAQC,QAASjB,EAAcpC,MAAOqC,IACtC,uBAAMjF,UAAWD,EAAO6C,MAAxB,UAAgCqB,EAAWiB,KAA3C,IAAkDjB,EAAWkB,oBC3I5De,EAAgB,SAACC,GACnB,IAAMC,EAAS,IAAIC,KAAKF,EAAYG,cAAc,EAAE,GAC9CC,EAAenB,KAAKC,OAAOc,EAAcC,GAAf,OAChC,OAAOhB,KAAKC,OAAOc,EAAYK,SAAW,EAAID,GAAgB,IAG5DE,EAAc,uCAAG,WAAO/I,GAAP,qBAAA2F,EAAA,yDACbqD,EAAO,IAAIL,KACbM,EAFe,GAGfrD,EAAI,KAERrF,QAAQC,IAAIR,GAENkJ,EAAc,GAEhBlJ,IAASZ,EACT6J,EAAI,4BAAwBD,EAAKJ,cAA7B,YAA8CI,EAAKG,WAAa,EAAhE,YAAqEH,EAAKI,UAA1E,qBAAgGJ,EAAKJ,cAArG,YAAsHI,EAAKG,WAAa,EAAxI,YAA6IH,EAAKI,WAC/IpJ,IAASX,EAChB4J,EAAI,6BAAyBD,EAAKJ,cAA9B,YAA+CJ,EAAcQ,GAA7D,sBAAgFA,EAAKJ,cAArF,YAAsGJ,EAAcQ,IACjHhJ,IAASV,EAChB2J,EAAI,8BAA0BD,EAAKJ,cAA/B,YAAgDI,EAAKG,WAAa,EAAlE,uBAAkFH,EAAKJ,cAAvF,YAAwGI,EAAKG,WAAa,GACvHnJ,IAASR,EAChByJ,EAAI,qBACGjJ,IAAST,GAChB0J,EAAO,qBACPrD,EAAIyD,YAAMC,YAAW7K,EAAMwK,GAAOM,YAAM,OAAQ,IAAK,GAAIC,YAAQ,OAAQ,QAASC,YAAMP,KLnCzD,gBKoCxBlJ,EACPiJ,EAAO,QLpC0B,kBKqC1BjJ,IACPiJ,EAAO,kBACPrD,EAAIyD,YAAMC,YAAW7K,EAAMwK,GAAOO,YAAQ,cAAe,QAASC,YAAMP,KAE5E3I,QAAQC,IAAI,gBAAiByI,GAExBA,EA5Bc,yCA6BR,IAAIS,SAAQ,SAACC,GAChBA,EAAQ,QA9BG,cAkCT,OAAN/D,IACAA,EAAIyD,YAAMC,YAAW7K,EAAMwK,GAAOM,YAAM,OAAQ,IAAK,GAAIC,YAAQ,OAAQ,QAASC,YAAMP,KAnCzE,UAoCNU,YAAQhE,GApCF,qFAAH,sDAgHLiE,EAzEE,WACb,IAAOzJ,EAAS+B,qBAAWvC,GAApBQ,MACP,EAA0BgG,mBAAS,MAAnC,mBAAO5C,EAAP,KAAcsG,EAAd,KACA,EAAgC1D,mBAAS,MAAzC,mBAAO2D,EAAP,KAAiBC,EAAjB,KACMhK,EAAOI,EAAMJ,KAqBnB,OApBAO,QAAQC,IAAI,gDAAiDR,EAAM+J,GAEnEtD,qBAAW,WACP,IACIqD,EAAS,MACTE,EAAY,MACZjB,EAAe/I,GAAMkD,MAAK,SAAA+G,GACtB,IAAIC,EAAW,GACfD,EAAEE,SAAQ,SAACtE,GACP,IAAMsB,EAAOtB,EAAIsB,OACjB+C,EAASE,KAAKjD,MAElB5G,QAAQC,IAAI,8BAA+B0J,GAC3CF,EAAYE,MAElB,MAAOhD,GACL4C,EAAS5C,MAEd,CAAClH,IAEAA,IAASV,GACTU,IAASX,GACTW,IAASZ,GACTY,IAASR,GACTQ,IAAST,EAEL,wBAGJiE,EACA,cAACjB,EAAA,EAAD,CAAKT,UAAU,OAAOuI,GAAI,CACtB5H,UAAW,SACX6H,cAAe,SACftJ,OAAQ,UAHZ,SAKI,uIAA0BwC,OAIjB,OAAbuG,EACA,cAACxH,EAAA,EAAD,CAAKT,UAAU,OAAOuI,GAAI,CACtB5H,UAAW,SACX6H,cAAe,SACftJ,OAAQ,UAHZ,SAKI,oGAKJ,cAACuB,EAAA,EAAD,CAAKT,UAAU,MAAMuI,GAAI,CACrBnJ,MAAO,OACPoD,QAAS,OACTiG,eAAgB,SAChBC,cAAe,MACfC,SAAU,QALd,SAQQV,GAAYA,EAASW,OAAS,EACtBX,EAASY,KAAI,SAAC/J,EAAMgK,GAAP,OAAa,cAAC,EAAD,CAAuB3E,SAAUrF,EAAMsF,WAAYlG,GAApC,GAAK4K,MAClD,8BACI,uG,0ICpGlBC,GAAQ,CACb,CACC7K,KAAMT,EACN2F,MAAO,mCAUR,CACClF,KAAMZ,EACN8F,MAAO,yCAER,CACClF,KAAMX,EACN6F,MAAO,mCAER,CACClF,KAAMV,EACN4F,MAAO,mCAER,CACClF,KAAMR,EACN0F,MAAO,oCAQH4F,GAAW,CAAC,UAAW,UAAW,YAAa,UAE/CC,GAAe,SAACC,GACrB,IAAQC,EAAqBD,EAArBC,SAAUpE,EAAWmE,EAAXnE,OAIZqE,EAAUC,aAAiB,CAChCC,OAAQvE,EAASA,SAAWwE,IAG7B,OACC,cAACC,GAAA,EAAD,CAAOC,QAAQ,EAAOC,UAAU,OAAOC,IAAKP,EAA5C,SACED,KAgNWS,GAvLU,SAACV,GACzB,MAAkC7I,qBAAWvC,GAAtCQ,EAAP,EAAOA,MAAOgC,EAAd,EAAcA,SAAUuJ,EAAxB,EAAwBA,OAClB/K,EAAOoK,EAAMpK,KACnB,EAAsCwF,mBAAS,MAA/C,mBAAOwF,EAAP,KAAoBC,EAApB,KACA,EAAwCzF,mBAAS,MAAjD,mBAAO0F,EAAP,KAAqBC,EAArB,KACA,EAAgC3F,mBAAS,MAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BF,mBAjBH,SAACpG,GAExB,IAAMmD,EAAS0H,GAAMmB,QAAO,SAAAC,GAAI,OAAIjM,IAASiM,EAAKjM,QAClD,OAAImD,EAAOuH,OAAS,GACnBnK,QAAQC,IAAI,oBAAqB2C,GAC1BA,EAAO,GAAG+B,OAEV,2BAU2BgH,CAAgBhN,IAAnD,mBAAOiN,EAAP,KAAcC,EAAd,KAsBA,GApBA7L,QAAQC,IAAI,2BAA4B2L,EAAO/L,EAAMJ,MAErDyG,qBAAU,WACT,GAAI7F,EAAM,CACT,IAAMuF,EAAO,UAAMvF,EAAKiD,OAClBwI,EAAczL,EAAK0L,SAGzB,GAFA/L,QAAQC,IAAI,iCAAkC6L,GAEzCA,EAOJ/F,EAAY+F,OAPK,CACjB,IAAI3F,EAAaC,YAAI7H,EAAD,8BAAmCqH,EAAnC,SACpBS,YAAeF,GAAYxD,MAAK,SAAAgC,GAC/B3E,QAAQC,IAAI,mBAAoB0E,GAChCoB,EAAYpB,UAMb,CAACtE,KAECA,EACJ,OACC,wBAIF,IAYM2L,EAAqB,SAACC,GAG3B,GAFAjM,QAAQC,IAAI,qBAAsBgM,GAClCX,EAAe,MACe,WAA1BW,EAAKpB,OAAOqB,UAKf,OAJAlM,QAAQC,IAAI,cACZuL,EAAgB,MAChBzF,EAAY,SACZqF,EAAOvJ,GAIJoK,EAAKpB,OAAOsB,QAAQC,MACvBvK,EAAS,CAAC3B,KAAMf,EAAoBM,KAAMwM,EAAKpB,OAAOsB,QAAQC,QACrDH,EAAKpB,OAAOwB,cAAcF,QAAQC,QAC3CP,EAASI,EAAKpB,OAAOqB,WACrBrK,EAAS,CAAC3B,KAAMf,EAAoBM,KAAMwM,EAAKpB,OAAOwB,cAAcF,QAAQC,UAQ9E,OACC,cAAC,GAAD,2BAAkB3B,GAAlB,aACA,cAAC6B,EAAA,EAAD,CAAQxC,GAAI,CACXyC,WAAY,WADb,SAGC,cAACC,GAAA,EAAD,CAAW3L,SAAS,KAApB,SACC,eAAC4L,GAAA,EAAD,CAASC,gBAAc,EAAvB,UACC,qBAAK9E,MAAQ,CAACxD,OAAQ,WAAY3B,QAlCf,WACtBZ,EAAS,CAAC3B,KAAMf,EAAoBM,KAAMd,KAiCvC,SACC,cAACgO,GAAA,EAAD,CACCnK,QAAQ,KACRoK,QAAM,EACNC,UAAU,MACVnL,WAAY,eACZoI,GAAI,CAAEgD,GAAI,EAAG/I,QAAS,CAAEgJ,GAAI,OAAQC,GAAI,SALzC,wCAWD,eAAChL,EAAA,EAAD,CAAK8H,GAAI,CAAEmD,SAAU,EAAGlJ,QAAS,CAAEgJ,GAAI,OAAQC,GAAI,SAAnD,UACC,cAACE,GAAA,EAAD,CACC3K,KAAK,QACL,aAAW,0BACX,gBAAc,cACd,gBAAc,OACdE,QA5DoB,SAAC0K,GAC1BnN,QAAQC,IAAI,sBAAuBkN,EAAMC,eACzC9B,EAAe6B,EAAMC,gBA2DhBpM,MAAM,UANP,SAQC,cAAC,KAAD,MAED,cAACqM,GAAA,EAAD,CACCC,GAAG,cACHC,SAAUlC,EACVmC,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,aAAW,EACXC,gBAAiB,CAChBH,SAAU,MACVC,WAAY,QAEbG,KAAMC,QAAQzC,GACd0C,QAAS/B,EACTlC,GAAI,CACH/F,QAAS,CAAEgJ,GAAI,QAASC,GAAI,SAf9B,SAkBE1C,GAAMF,KAAI,SAACsB,GAAD,OACV,cAACsC,GAAA,EAAD,CACU,aAAYtC,EAAKjM,KAAMgD,QAASuJ,EAD1C,SAEC,cAACW,GAAA,EAAD,CAAYzK,UAAU,SAAtB,SAAgCwJ,EAAK/G,SAFvB+G,EAAKjM,cAOvB,cAACkN,GAAA,EAAD,CACCnK,QAAQ,KACRoK,QAAM,EACNC,UAAU,MACVnL,WAAY,eACZoI,GAAI,CAAEmD,SAAU,EAAGlJ,QAAS,CAAEgJ,GAAI,OAAQC,GAAI,SAL/C,SAOEpB,IAEF,cAAC5J,EAAA,EAAD,CAAK8H,GAAI,CAAEmD,SAAU,EAAGlJ,QAAS,CAAEgJ,GAAI,OAAQC,GAAI,SAAnD,SACE1C,GAAMF,KAAI,SAACsB,GAAD,OACV,cAACuC,GAAA,EAAD,CAEC,aAAYvC,EAAKjM,KACjBgD,QAASuJ,EACTlC,GAAI,CAAEoE,GAAI,EAAGlN,MAAO,QAAS+C,QAAS,SAJvC,SAME2H,EAAK/G,OALD+G,EAAKjM,WAUb,eAACuC,EAAA,EAAD,CAAK8H,GAAI,CAAEmD,SAAU,GAArB,UACC,cAACkB,GAAA,EAAD,CAASvC,MAAM,gBAAf,SACC,cAACsB,GAAA,EAAD,CAAYzK,QA/GS,SAAC0K,GAC3BnN,QAAQC,IAAI,uBAAwBkN,EAAMC,eAC1C5B,EAAgB2B,EAAMC,gBA6GwBtD,GAAI,CAAEsE,EAAG,GAAlD,SACC,cAAC3G,EAAA,EAAD,CAAQ4G,IAAI,aAAalM,IAAK2D,QAGhC,cAACuH,GAAA,EAAD,CACCvD,GAAI,CAAEwE,GAAI,QACVhB,GAAG,cACHC,SAAUhC,EACViC,aAAc,CACbC,SAAU,MACVC,WAAY,SAEbC,aAAW,EACXC,gBAAiB,CAChBH,SAAU,MACVC,WAAY,SAEbG,KAAMC,QAAQvC,GACdwC,QAtGsB,WAC3BvC,EAAgB,OAuFZ,SAgBEjB,GAASH,KAAI,SAACmE,GAAD,OACb,cAACP,GAAA,EAAD,CAAwBvL,QAASuJ,EAAjC,SACC,cAACW,GAAA,EAAD,CAAYzK,UAAU,SAAtB,SAAgCqM,KADlBA,sB,yFCvPRC,GAlBI,SAAC,GAAY,IAAXnO,EAAU,EAAVA,KACpB,EAAkCwF,mBAAS,MAA3C,mBAAO4I,EAAP,KAAkBC,EAAlB,KACM9I,EAAUvF,EAAKiD,MAAL,UAAgBjD,EAAKiD,MAArB,YAA8BjD,EAAK8E,WAAa,GAWhE,OATAnF,QAAQC,IAAI,kBAAmBI,GAC/B6F,qBAAU,WACT,IAAIC,EAAaC,YAAI7H,EAAD,8BAAmCqH,EAAnC,SACpBS,YAAeF,GAAYxD,MAAK,SAAAgC,GAC/B3E,QAAQC,IAAI,gBAAiB0E,GAC7B+J,EAAa/J,QAEZ,CAACtE,EAAMuF,IAGT,cAAC6B,EAAA,EAAD,CAAQtF,IAAKsM,EAAWJ,IAAI,cCAfM,GAhBI,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAEhBC,EAAc,GAMlB,OALAD,EAAMhF,SAAQ,SAAAvJ,GACbwO,EAAYhF,KAAK,cAAC,GAAD,CAAYxJ,KAAMA,QAKnC,cAACyO,GAAA,EAAD,CACCR,GAAI,EAAGrD,UAAU,MAAMtH,QAAS,EADjC,SAEEkL,K,wCCTE3J,GAAe,uCAAG,WAAO5B,EAAO6B,GAAd,eAAAC,EAAA,6DACjBC,EAAIC,YAAIpH,EAAM,qBAAP,UAAgCoF,EAAhC,YAAyC6B,IAD/B,SAEVI,YAAOF,GAFG,mFAAH,wDAuCN0J,GAlCA,SAAC,GAAc,IAAbC,EAAY,EAAZA,OAChB,EAAoCnJ,mBAAS,MAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KACAjG,QAAQC,IAAI,mBAAoB+O,GAEhC,IAAM3O,EAAO,CACZiD,MAAO0L,EAAOC,YACd9J,UAAW6J,EAAOE,iBAUnB,OAPAhJ,qBAAU,WACThB,GAAgB7E,EAAKiD,MAAOjD,EAAK8E,WAAWxC,MAAK,SAAA2C,GAChDtF,QAAQC,IAAI,gBAAiBqF,EAAIsB,QACjCX,EAAcX,EAAIsB,aAEjB,CAACvG,EAAKiD,MAAOjD,EAAK8E,YAGpB,eAACgK,GAAA,EAAD,CAAUrH,WAAW,aAArB,UACC,cAACsH,GAAA,EAAD,UACC,cAAC,GAAD,CAAYf,IAAI,WAAWhO,KAAMA,MAElC,cAACgP,GAAA,EAAD,CACCC,QACCtJ,EACCA,EAAW0B,YAAY,GAEzB6H,UACCP,EAAOQ,kBC/BNC,GAAoB,uCAAG,WAAOC,GAAP,eAAAtK,EAAA,6DACtBC,EAAIyD,YAAMC,YAAW7K,EAAM,mBAAoB8K,YAAM,OAAQ,KAAM0G,GAAOzG,YAAQ,cAAe,QAASC,YAAM,KAD1F,SAEfG,YAAQhE,GAFO,mFAAH,sDA+BXsK,GA1BI,SAAC,GAAY,IAAXD,EAAU,EAAVA,KACpB,EAAoC7J,mBAAS,MAA7C,mBAAO+J,EAAP,KAAmBC,EAAnB,KAgBA,OAfA7P,QAAQC,IAAI,kBAAmByP,GAE/BxJ,qBAAW,WACVuJ,GAAqBC,GAAM/M,MAAK,SAAA+G,GAC/B,IAAIC,EAAW,GACfD,EAAEE,SAAQ,SAACtE,GACV,IAAMsB,EAAOtB,EAAIsB,OACjB+C,EAASE,KACR,cAAC,GAAD,CAAQmF,OAAQpI,QAGlBiJ,EAAclG,QAEb,CAAC+F,IAGFE,EACwB,IAAtBA,EAAWzF,OACX,cAACwC,GAAA,EAAD,CAAY/E,MAAO,CAAC1F,UAAU,UAAWoL,GAAG,0BAA0BxD,GAAI,CAAEwE,GAAI,GAAhF,8EACA,cAACwB,GAAA,EAAD,UAAOF,IACN,cAACG,GAAA,EAAD,KCdAC,GAAc,CACnBjM,QAAS,OACNiG,eAAgB,SACnBC,cAAe,MACfC,SAAU,QAGL+F,GAAgB,uCAAG,WAAOP,GAAP,eAAAtK,EAAA,6DAClBC,EAAIC,YAAIpH,EAAM,QAASwR,GADL,SAEXnK,YAAOF,GAFI,mFAAH,sDAiJP6K,GA3HF,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACd,EAAgCtK,mBAAS,MAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAsCF,mBAAS,MAA/C,mBAAOuK,EAAP,KAAoBC,EAApB,KACA,EAAwBxK,oBAAS,GAAjC,mBAAOgI,EAAP,KAAayC,EAAb,KACA,EAAsCzK,mBAAS,MAA/C,mBAAO0K,EAAP,KAAoBC,EAApB,KACAxQ,QAAQC,IAAI,WAAY6F,GAExB,IAAI2K,EAAmBN,EAAK,IACxBrK,IACH2K,EAAmB3K,GAEpB,IAAM4K,EAAkB,WACvBJ,GAAQ,GA7Bc,SAACZ,EAAMc,EAAgBH,GAC9CrQ,QAAQC,IAAI,yBAA0ByP,GACtCO,GAAiBP,GAAM/M,MAAK,SAAA+G,GAC3B,IAAM6G,EAAc7G,EAAE9C,OACtB5G,QAAQC,IAAI,sCAAuCyJ,EAAE9C,QACjD2J,EAAYI,eACf3Q,QAAQC,IAAI,kCAAmCsQ,EAAYI,cAC3DN,EAAeE,EAAYI,eAE5BH,EAAe9G,EAAE9C,WAEf5D,OAAM,SAAA2D,GACR3G,QAAQC,IAAI,oCAAqC0G,GACjD6J,EAAe,OAkBdI,CAAgBT,EAAK,IAAKK,EAAgBH,IAkB5CnK,qBAAU,WACT,GAAIuK,EAAiBI,WAAW,SAAU,CACzC,IAAI1K,EAAaC,YAAI7H,EAAWkS,GAChCpK,YAAeF,GAAYxD,MAAK,SAAAgC,GAC/B3E,QAAQC,IAAI,8BAA+B0E,GAC3CoB,EAAYpB,WAGboB,EAAY0K,KAEX,IAEH,IAAMK,GAAYX,EAAK,IACjB1H,EAAO,IAAIL,KAAK0I,GACtB9Q,QAAQC,IAAI,aAAcwI,GAC1B,IAAMsI,EAAO,UAAMtI,EAAKJ,cAAX,kBAA6BI,EAAKG,WAAW,EAA7C,kBAAmDH,EAAKI,UAAxD,UAEb,OACC,gCACC,cAAC2D,GAAA,EAAD,CAAWzK,UAAU,mBAArB,SAEE+D,GAAYA,EAAS+K,WAAW,QAC/B,qBAAKpO,QAASiO,EAAiB3O,UAAU,UAAUI,IAAK2D,EAAUuI,IAAK8B,EAAK,KAE5E,sBAAK1N,QAASiO,EAAiB3O,UAAU,QAAzC,UACC,qBAAKA,UAAU,UAAUI,IAAI,GAAGkM,IAAI,KACnC,qBAAKtM,UAAU,OAAf,SACEoO,EAAK,UAKZ,eAACa,GAAA,EAAD,CACCnD,KAAMA,EACNE,QAjDiB,WACnBuC,GAAQ,IAiDN,kBAAgB,0BAChB,mBAAiB,0BACjBW,OAAQ,QACRlP,UAAU,cANX,UAQC,eAACmP,GAAA,EAAD,CAAe5D,GAAG,0BAA0BxD,GAAI,CAAEwE,GAAI,GAAtD,UACC,cAAC6C,GAAA,EAAD,CAAa7D,GAAG,oBAAoB9K,QAAQ,KAAKqK,UAAU,KAA3D,SACEsD,EAAK,KAGP,cAACnO,EAAA,EAAD,CAAK8H,GAAIkG,GAAT,SACC,qBAAKjO,UAAU,eAAeI,IAAKiO,IAA0BtK,GAAoB,IAAIuI,IAAK8B,EAAK,GAC1FiB,QArDiB,SAACzK,GAC3B3G,QAAQC,IAAI,0BAA2B0G,EAAEkE,OAAO1I,IAAK2D,EAAUa,GAC3DA,EAAEkE,OAAO1I,KAAO2D,GAAYa,EAAEkE,OAAO1I,MAAQ2D,IAChDa,EAAEkE,OAAO1I,IAAM2D,QAoDb,eAAC6G,GAAA,EAAD,CAAYW,GAAG,0BAA0BxD,GAAI,CAAEwE,GAAI,GAAnD,UACC,sBAAM1G,MAAO,CAAC5G,MAAO,OAArB,SAA8B+P,IAD/B,4CAIkB,OAAhBR,EACAA,EAAYtJ,KACX,gCACC,eAAC0F,GAAA,EAAD,CAAYW,GAAG,0BAA0BxD,GAAI,CAAEwE,GAAI,GAAnD,0DACW,sBAAM1G,MAAO,CAAC5G,MAAO,OAArB,SAA8BuP,EAAYtJ,OADrD,mDAGA,cAACiK,GAAA,EAAD,UACC,cAAC,GAAD,CAAYtJ,MAAO,CAClB7D,QAAS,OACTiG,eAAgB,SAChBC,cAAe,MACfC,SAAU,QACR0E,MAAO2B,EAAYc,kBAEhB,wBAAS,cAACtB,GAAA,EAAD,IAGpB,cAACuB,GAAA,EAAD,CAAmBhE,GAAG,2BAAtB,SACC,cAACX,GAAA,EAAD,CAAYW,GAAG,0BAA0BxD,GAAI,CAAEwE,GAAI,GAAnD,SACE6B,EAAK,OAIR,cAACoB,GAAA,EAAD,CAASzH,GAAI,CAACwE,GAAG,KACjB,cAAC,GAAD,CAAYoB,KAAMS,EAAK,SAExB,cAACqB,GAAA,EAAD,UAEErB,EAAK,IACJ,cAAClC,GAAA,EAAD,CAAQxL,QA7FK,WAClB6N,GAAQ,GACRhK,OAAOuH,KAAKsC,EAAK,MA2FZ,uGACA,iCChDQsB,GAxGG,WACjB,IAAO5R,EAAS+B,qBAAWvC,GAApBQ,MACP,EAAgCgG,mBAAS,MAAzC,mBAAO6L,EAAP,KAAiBC,EAAjB,KACA,EAA0B9L,mBAAS,MAAnC,mBAAO5C,EAAP,KAAcsG,EAAd,KACAvJ,QAAQC,IAAI,oBAAqBJ,GACjC,IAAMJ,EAAOI,EAAMJ,KACbY,EAAOR,EAAMF,aA0CnB,GAxCAuG,qBAAU,WACT,GAAI7F,EAAM,CACTL,QAAQC,IAAI,2BAA4BI,GACxCsR,EAAY,MACZpI,EAAS,MACT,IAAIpD,EAAaC,YAAI7H,EAAD,qBAA0B8B,EAAKiD,MAA/B,QACpB+C,YAAeF,GAAYxD,MAAK,SAAAgC,GAC/B3E,QAAQC,IAAI,gBAAiB0E,GAC7B2B,OAAOsL,UAAU,CAChBC,WAAY,SAAAC,GAAQ,sBAAaA,MAC/BnP,MAAK,SAAAoP,GACP/R,QAAQC,IAAI,MAAO8R,GACnB,IAAMC,EAAMrN,EACNsN,EAAM,IAAIC,eAChBD,EAAIE,aAAe,cACnBF,EAAIG,OAAS,SAACjF,GACb,IACC,IAAMkF,EAAOJ,EAAIK,SAEXC,EAAa,IAAIC,WAAWH,GAE5BX,EADK,IAAIK,EAAIU,SAASF,GACRG,KAAH,uDAAwDrS,EAAK8E,UAA7D,yDACjBnF,QAAQC,IAAI,eAAgByR,GACxBA,EAASvH,OAAS,GAAKuH,EAAS,GAAGiB,OACtChB,EAAYD,EAAS,GAAGiB,QAExBhB,EAAY,IAEZ,MAAOhL,GACR3G,QAAQC,IAAI,uBAAwB0G,GACpC4C,EAAS5C,KAGXsL,EAAIpE,KAAK,MAAOmE,GAChBC,EAAIW,gBAIL,CAACvS,IAEAZ,IAASP,EACZ,OACC,qBAAK6C,UAAU,WAIjB,GAAIkB,EAAO,OACV,cAACjB,EAAA,EAAD,CAAKT,UAAU,OAAOuI,GAAI,CACzB5H,UAAW,SACX6H,cAAe,SACftJ,OAAQ,UAHT,SAKC,uKAIF,GAAiB,OAAbiR,EAAmB,OACtB,eAAC1P,EAAA,EAAD,CAAKT,UAAU,OAAOuI,GAAI,CACzB5H,UAAW,SACX6H,cAAe,SACftJ,OAAQ,UAHT,UAKC,cAACsP,GAAA,EAAD,CAAkBhO,UAAW,mBAAoBf,MAAM,YACvD,oIAIFhB,QAAQC,IAAI,0BAA2BR,GAEvC,IAAMoT,EAAQnB,EAASoB,MAAM,EAAG,KAEhC,OACC,qCACC,eAAC9Q,EAAA,EAAD,CAAKD,UAAU,gBAAgB+H,GAAI,CAClCnJ,MAAO,OACPoD,QAAS,OACTiG,eAAgB,SAChBC,cAAe,MACfC,SAAU,QALX,UAOC,cAAC,GAAD,CAAY7J,KAAMA,IAPnB,IAO4B,uBAAMuH,MAAO,CAAEhD,WAAY,OAAQ9D,QAAS,OAA5C,UAAqDT,EAAKqH,YAA1D,+DAE5B,cAAC1F,EAAA,EAAD,CACC8H,GAAI,CACHnJ,MAAO,OACPoD,QAAS,OACTiG,eAAgB,SAChBC,cAAe,MACfC,SAAU,QANZ,SAQE2I,EAAMzI,KAAI,SAAC+F,EAAM/D,GAAP,OAAiB,cAAC,GAAD,CAAuB+D,KAAMA,GAAlB,GAAK/D,YC9GjC,OAA0B,iCCA1B,OAA0B,sCCA1B,OAA0B,uC,UCwE1B2G,I,OA7DF,WACZ,IACMtT,EADUmC,qBAAWvC,GAApBQ,MACYJ,KAGnB,OAFAO,QAAQC,IAAI,yBAA0BR,GAElCA,IAASd,EACJ,wBAIR,eAACqD,EAAA,EAAD,CAAKC,WAAW,OAAOC,UAAU,SAAjC,UACC,qBAAKC,IAAKC,EAAML,UAAU,SAC1B,oBAAIA,UAAU,aAAd,8EACA,qBAAKA,UAAU,YAAf,SACC,+FAAe,uBAAf,sEAID,qBAAKI,IAAK6Q,GAAWjR,UAAW,aAEhC,sBAAKA,UAAU,kBAAf,UACC,mBAAGA,UAAU,aAAa6F,MAAO,CAAC1F,UAAW,QAA7C,qEACA,qBAAKH,UAAU,mBAAf,SACC,8BAAG,sBAAM6F,MAAO,CAAC5G,MAAM,WAApB,gCAAH,4FAAgE,uBAAhE,mCACQ,sBAAM4G,MAAO,CAAC5G,MAAM,WAApB,gCADR,sFACoE,uBADpE,sBAEK,sBAAM4G,MAAO,CAAC5G,MAAM,WAApB,+EAFL,gDAEqE,uBAFrE,+EAGiB,sBAAM4G,MAAO,CAAC5G,MAAM,WAApB,sCAHjB,uHAQF,qBAAKmB,IAAK8Q,GAAWlR,UAAW,aAEhC,sBAAKA,UAAU,kBAAf,UACC,mBAAGA,UAAU,aAAa6F,MAAO,CAAC1F,UAAW,SAA7C,0DACA,qBAAKH,UAAU,mBAAmB6F,MAAO,CAAC1F,UAAW,SAArD,SACC,yHAAqB,sBAAM0F,MAAO,CAAC5G,MAAM,WAApB,4CAArB,yCAAyE,uBAAzE,iIAC2B,uBAD3B,qIAMF,sBAAKe,UAAU,kBAAf,UACC,mBAAGA,UAAU,aAAb,iFACA,qBAAKA,UAAU,YAAf,SACC,+FAAe,uBAAf,yEAKF,eAACmR,GAAA,EAAD,CAAMC,UAAU,QAAQnS,MAAM,UAC3BoS,KAAK,+EAAmFvI,OAAO,SADlG,UAEC,qBAAK9I,UAAU,gCAAgCI,IAAKkR,KACpD,qBAAKtR,UAAU,cAAf,8E,oBC9BEqJ,I,OAAS,SAACvJ,GACZxD,EAAOiV,UAAU3Q,MAAK,SAACC,GACnB5C,QAAQC,IAAI,iBACZ4B,EAAS,CACL3B,KAAMf,EACNM,KAAMb,OAEXoE,OAAM,SAACC,GACNjD,QAAQC,IAAI,wBAAyBgD,QAuC9BsQ,OAlCf,SAAa9I,GACT,MAA0B+I,qBAAW5T,EAAcJ,OAAYsL,GAA/D,mBAAOjL,EAAP,KAAcgC,EAAd,KACA7B,QAAQC,IAAI,cAAeJ,GAC3B,IAAM4T,EArCwB,WAC9B,MAAgC5N,mBAAS,MAAzC,mBAAO4N,EAAP,KAAiBC,EAAjB,KAiBA,OAfAxN,qBAAU,WACN,IAAMyN,EAAWtV,EAAOuV,oBACpB,SAAAH,GACIzT,QAAQC,IAAI,aAAcwT,GAGpBC,EADND,GAEkB,SAG1B,OAAO,WACHE,OAEL,IAEIF,EAmBUI,GAEjB7T,QAAQC,IAAI,kBAAmBwT,GAE/BvN,qBAAU,WAEFrE,EADa,OAAb4R,EACS,CAACvT,KAAMf,EACZM,KAAMb,GAED,CAACsB,KAAMf,EACZM,KAAMd,MAEf,CAAC8U,IAEJ,IAAMK,EAAQC,eAEd,OACI,cAAC1U,EAAU2U,SAAX,CAAoBrP,MAAO,CAAC9E,QAAOgC,WAAUuJ,WAA7C,SACI,cAAC6I,GAAA,EAAD,CAAeH,MAAOA,EAAtB,SACI,gCACI,cAAC,GAAD,CAAkBrJ,MAAOA,EAAOpK,KAAMoT,IACtC,cAAC,EAAD,IACA,cAAC,GAAD,IACA,cAAC,EAAD,IACA,cAAC,GAAD,YC9DLS,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBzR,MAAK,YAAkD,IAA/C0R,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,OCAdO,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,GAAD,MAEJC,SAASC,eAAe,SAM5BZ,O","file":"static/js/main.540ab681.chunk.js","sourcesContent":["import {initializeApp} from \"firebase/app\";\r\nimport {getAnalytics} from \"firebase/analytics\";\r\nimport {getFirestore} from \"firebase/firestore\";\r\nimport {getAuth, GoogleAuthProvider} from \"firebase/auth\";\r\nimport {getStorage} from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: \"AIzaSyCGerFrxYZ2_MfRCURUdsqMuD2-9V-B7g4\",\r\n\tauthDomain: \"readbooks-164200.firebaseapp.com\",\r\n\tdatabaseURL: \"https://readbooks-164200.firebaseio.com\",\r\n\tprojectId: \"readbooks-164200\",\r\n\tstorageBucket: \"readbooks-164200.appspot.com\",\r\n\tmessagingSenderId: \"451518411017\",\r\n\tappId: \"1:451518411017:web:cced9b89a6030da16963d8\",\r\n\tmeasurementId: \"G-8WQD7EGSVQ\"\r\n};\r\n\r\nexport const firebaseApp = initializeApp(firebaseConfig);\r\nexport const fbAnalytics = getAnalytics(firebaseApp);\r\nexport const fbDB = getFirestore(firebaseApp);\r\nexport const fbAuth = getAuth(firebaseApp);\r\nexport const fbStorage = getStorage(firebaseApp)\r\nexport const googleAuthProvider = new GoogleAuthProvider();","\r\nexport const SCREEN_MODE_INIT = \"init\";\r\nexport const SCREEN_MODE_SIGN_IN = \"sign-in\";\r\nexport const SCREEN_MODE_USER_RANK_DAILY = \"user-rank-daily\";\r\nexport const SCREEN_MODE_USER_RANK_WEEKLY = \"user-rank-weekly\";\r\nexport const SCREEN_MODE_USER_RANK_MONTHLY = \"user-rank-monthly\";\r\nexport const SCREEN_MODE_GOOD_WRITER = \"good-writer\";\r\nexport const SCREEN_MODE_FAMOUS_BOOK = \"famous-book\";\r\nexport const SCREEN_MODE_RECENT_REVIEW = \"recent-review\";\r\nexport const SCREEN_MODE_BEST_READER = \"best-reader\";\r\nexport const SCREEN_MODE_FIND_USER = \"find-user\";\r\nexport const SCREEN_MODE_BOOK_SHELF = \"book-shelf\";\r\n\r\nexport const ACTION_CHANGE_MODE = \"change-mode\";\r\nexport const ACTION_USER_RANK_DATA_RECEIVED = \"user-rank-data-received\";\r\nexport const ACTION_USER_SELECTED = \"user-selected\";","import React from 'react';\r\nimport {\r\n\tACTION_CHANGE_MODE,\r\n\tACTION_USER_RANK_DATA_RECEIVED,\r\n\tACTION_USER_SELECTED,\r\n\tSCREEN_MODE_BOOK_SHELF,\r\n\tSCREEN_MODE_INIT\r\n} from \"../const\";\r\n\r\nexport const MyContext = React.createContext({});\r\n\r\nexport const initValues = {\r\n\tmode: SCREEN_MODE_INIT,\r\n\tuserRankList: null,\r\n\tselectedUser: null\r\n}\r\n\r\nexport const stateReducer = (state, action) => {\r\n\tconsole.log(\"reducer called~!\", state, action);\r\n\tlet newState;\r\n\tswitch (action.type) {\r\n\t\tcase ACTION_CHANGE_MODE: {\r\n\t\t\tnewState = Object.assign({}, state, {\r\n\t\t\t\tmode: action.mode\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase ACTION_USER_RANK_DATA_RECEIVED: {\r\n\t\t\tnewState = Object.assign({}, state, {\r\n\t\t\t\tuserRankList: action.userRankList\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase ACTION_USER_SELECTED: {\r\n\t\t\tnewState = Object.assign({}, state, {\r\n\t\t\t\tselectedUser: action.user,\r\n\t\t\t\tmode: SCREEN_MODE_BOOK_SHELF\r\n\t\t\t})\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\tnewState = initValues;\r\n\t}\r\n\tconsole.log(\"reducer return ===>\", newState);\r\n\treturn newState;\r\n}\r\n\r\nexport default stateReducer;","export default __webpack_public_path__ + \"static/media/image1.32f8c154.svg\";","import {ACTION_CHANGE_MODE, SCREEN_MODE_INIT, SCREEN_MODE_SIGN_IN, SCREEN_MODE_USER_RANK_DAILY} from \"../const\";\r\nimport {fbAuth, googleAuthProvider} from \"../firebase/features\";\r\nimport {GoogleAuthProvider, signInWithPopup} from \"firebase/auth\";\r\nimport {useContext} from \"react\";\r\nimport {MyContext} from \"../hooks/reducer\";\r\n\r\nimport logo from \"./../img/image1.svg\";\r\nimport Box from \"@mui/material/Box\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport clsx from \"clsx\";\r\n\r\nconst useSigninStyles = makeStyles(() => {\r\n\treturn {\r\n\t\tcontainer: {\r\n\t\t\theight: '80rem',\r\n\t\t\t['@media screen and (max-width:767px)']: {\r\n\t\t\t\theight: '60rem'\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tloginButton: {\r\n\t\t\twidth: '50%',\r\n\t\t\tmargin: 10,\r\n\t\t\tmaxWidth: 600,\r\n\t\t\tpadding: '10px',\r\n\t\t\tborder: 'none',\r\n\t\t\tcolor: 'white',\r\n\t\t\tborderRadius: '4px'\r\n\t\t},\r\n\t\tbuttonColorGoogle: {\r\n\t\t\tbackgroundColor: '#4285F4',\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: '#2f54f5',\r\n\t\t\t}\r\n\t\t},\r\n\t\tbuttonColorKakao: {\r\n\t\t\tcolor: \"black\",\r\n\t\t\tbackgroundColor: '#FEE500',\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: '#b7ac4e',\r\n\t\t\t}\r\n\t\t},\r\n\t\tbuttonColorNaver: {\r\n\t\t\tbackgroundColor: '#03C75A',\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: '#058d41',\r\n\t\t\t}\r\n\t\t},\r\n\t\tsigninTitle: {\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom:20,\r\n\t\t\tcolor: '#477F8F',\r\n\t\t\tfontWeight: 'bolder',\r\n\t\t\tfontFamily: 'Gamja Flower'\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst loginGoogle = (dispatch) => {\r\n\tsignInWithPopup(fbAuth, googleAuthProvider)\r\n\t\t.then((result) => {\r\n\t\t\t// This gives you a Google Access Token. You can use it to access the Google API.\r\n\t\t\tconst credential = GoogleAuthProvider.credentialFromResult(result);\r\n\t\t\tconst token = credential.accessToken;\r\n\t\t\t// The signed-in user info.\r\n\t\t\tconst user = result.user;\r\n\t\t\t// ...\r\n\t\t\tconsole.log(\"로그인 완료~!!\", user, token);\r\n\t\t\tdispatch({type: ACTION_CHANGE_MODE, mode: SCREEN_MODE_INIT})\r\n\t\t}).catch((error) => {\r\n\t\t\t// Handle Errors here.\r\n\t\t\tconst errorCode = error.code;\r\n\t\t\tconst errorMessage = error.message;\r\n\t\t\t// The email of the user's account used.\r\n\t\t\tconst email = error.email;\r\n\t\t\t// The AuthCredential type that was used.\r\n\t\t\tconst credential = GoogleAuthProvider.credentialFromError(error);\r\n\t\t\tconsole.log('error=>', errorCode, errorMessage, email, credential);\r\n\t\t\tconsole.log(\"로그인 실패~!!\");\r\n\t\t});\r\n}\r\n\r\nconst loginKakao = (dispatch) => {\r\n\r\n}\r\n\r\nconst loginNaver = (dispatch) => {\r\n\r\n}\r\n\r\n\r\nconst Signin = () => {\r\n\tconst {state, dispatch} = useContext(MyContext);\r\n\tconst mode = state.mode;\r\n\tconst styles = useSigninStyles();\r\n\tconsole.log('signin render()', mode)\r\n\r\n\tif (mode !== SCREEN_MODE_SIGN_IN) {\r\n\t\tconsole.log(\"signin hidden return\")\r\n\t\treturn (\r\n\t\t\t<div className=\"hidden\"/>\r\n\t\t)\r\n\t}\r\n\tconsole.log(\"signin general return\")\r\n\treturn (\r\n\t\t<Box paddingTop='10rem' textAlign='center' className={styles.container}>\r\n\t\t\t<img src={logo} className={styles.signinLogo}/>\r\n\t\t\t<h1 className={styles.signinTitle}>천권읽기 로그인</h1>\r\n\t\t\t<div>\r\n\t\t\t\t<button className={clsx(styles.loginButton, styles.buttonColorGoogle)} \r\n\t\t\t\t\t\tsize={\"large\"}\r\n\t\t\t\t\t\tvariant={\"contained\"} onClick={\r\n\t\t\t\t\t()=> {\r\n\t\t\t\t\t\tloginGoogle(dispatch);\r\n\t\t\t\t\t}\r\n\t\t\t\t}>구글 계정으로 로그인</button>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button className={clsx(styles.loginButton, styles.buttonColorKakao)}\r\n\t\t\t\t        size={\"large\"}\r\n\t\t\t\t        variant={\"contained\"} onClick={\r\n\t\t\t\t\t()=> {\r\n\t\t\t\t\t\tloginKakao(dispatch);\r\n\t\t\t\t\t}\r\n\t\t\t\t}>카카오 계정으로 로그인</button>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button className={clsx(styles.loginButton, styles.buttonColorNaver)}\r\n\t\t\t\t        size={\"large\"}\r\n\t\t\t\t        variant={\"contained\"} onClick={\r\n\t\t\t\t\t()=> {\r\n\t\t\t\t\t\tloginNaver(dispatch);\r\n\t\t\t\t\t}\r\n\t\t\t\t}>네이버 계정으로 로그인</button>\r\n\t\t\t</div>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default Signin;","import {Card,Slider} from \"@mui/material\";\r\nimport cx from 'clsx';\r\nimport {memo, useContext, useEffect, useState} from \"react\";\r\nimport {getDownloadURL, ref} from \"firebase/storage\";\r\nimport {fbDB, fbStorage} from \"../firebase/features\";\r\nimport {doc, getDoc} from \"firebase/firestore\";\r\nimport makeStyles from \"@mui/styles/makeStyles\";\r\nimport {\r\n\tACTION_USER_SELECTED,\r\n\tSCREEN_MODE_GOOD_WRITER,\r\n\tSCREEN_MODE_USER_RANK_DAILY,\r\n\tSCREEN_MODE_USER_RANK_MONTHLY,\r\n\tSCREEN_MODE_USER_RANK_WEEKLY\r\n} from \"../const\";\r\nimport {MyContext} from \"../hooks/reducer\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\n\r\nconst useUserCardStyles = makeStyles(({spacing, palette}) => {\r\n\tconsole.log(\"useUserCardStyles\", spacing, palette);\r\n\tconst family =\r\n\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"';\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tpadding: spacing(2),\r\n\t\t\tminWidth: 288,\r\n\t\t\twidth: 350,\r\n\t\t\tmargin: spacing(1),\r\n\t\t\tborderRadius: 12,\r\n\t\t\tboxShadow: '0 2px 4px 0 rgba(138, 148, 159, 0.2)',\r\n\t\t\t'& > *:nth-child(1)': {\r\n\t\t\t\tmarginRight: spacing(2),\r\n\t\t\t},\r\n\t\t\t'& > *:nth-child(2)': {\r\n\t\t\t\tflex: 'auto',\r\n\t\t\t},\r\n\t\t\tcursor: 'pointer'\r\n\t\t},\r\n\t\tavatar: {\r\n\t\t\twidth: 80,\r\n\t\t\theight: 80\r\n\t\t},\r\n\t\theading: {\r\n\t\t\tfontFamily: family,\r\n\t\t\tfontSize: 16,\r\n\t\t\tmarginBottom: 0,\r\n\t\t},\r\n\t\tsubheader: {\r\n\t\t\tfontFamily: family,\r\n\t\t\tfontSize: 14,\r\n\t\t\tcolor: palette.grey[600],\r\n\t\t\tletterSpacing: '1px',\r\n\t\t\tmarginBottom: 4,\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\tmarginLeft: 8,\r\n\t\t\tfontSize: 14,\r\n\t\t\tcolor: palette.grey[500],\r\n\t\t},\r\n\t};\r\n});\r\n\r\nconst useSliderStyles = makeStyles(() => ({\r\n\troot: {\r\n\t\theight: 4,\r\n\t},\r\n\trail: {\r\n\t\tborderRadius: 10,\r\n\t\theight: 4,\r\n\t\tbackgroundColor: 'rgb(202,211,216)',\r\n\t},\r\n\ttrack: {\r\n\t\tborderRadius: 10,\r\n\t\theight: 4,\r\n\t\tbackgroundColor: 'rgb(117,156,250)',\r\n\t},\r\n\tthumb: {\r\n\t\tdisplay: 'none',\r\n\t},\r\n}));\r\n\r\nconst queryClientInfo = async (email, profileId) => {\r\n\tconst q = doc(fbDB, 'ClientInfoDataBase', `${email}_${profileId}`);\r\n\treturn await getDoc(q);\r\n}\r\n\r\nconst handleCardClick = (dispatch, clientInfo) => {\r\n\tdispatch({type: ACTION_USER_SELECTED, user: clientInfo});\r\n}\r\n\r\nconst UserCard = memo(({userItem, screenMode}) => {\r\n\tconst {dispatch} = useContext(MyContext);\r\n\tconst userUrl = userItem.email ? `${userItem.email}_${userItem.profileId}`: '';\r\n\tconst [imageUrl, setImageUrl] = useState(null);\r\n\tconst [clientInfo, setClientInfo] = useState({});\r\n\tconsole.log(\"UserCard render()...\", userItem);\r\n\r\n\tuseEffect(() => {\r\n\t\ttry {\r\n\t\t\tlet storageRef = ref(fbStorage, `/profile_thumbnails/${userUrl}.png`)\r\n\t\t\tgetDownloadURL(storageRef).then(value => {\r\n\t\t\t\tconsole.log('download_url=', value)\r\n\t\t\t\twindow.localStorage.setItem(userUrl, JSON.stringify(value));\r\n\t\t\t\tsetImageUrl(value)\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\r\n\t\t}\r\n\t}, [userItem, userUrl]);\r\n\r\n\tuseEffect(()=> {\r\n\t\ttry {\r\n\t\t\tqueryClientInfo(userItem.email, userItem.profileId).then(doc => {\r\n\t\t\t\tconsole.log(\"clientInfo =>\", doc.data());\r\n\t\t\t\tsetClientInfo(doc.data());\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\r\n\t\t}\r\n\r\n\t}, [userItem]);\r\n\r\n\tlet prefix = '';\r\n\tlet postfix = ' 읽었습니다.';\r\n\r\n\tif (screenMode === SCREEN_MODE_USER_RANK_DAILY) {\r\n\t\tprefix = \" 오늘 \";\r\n\t} else if (screenMode === SCREEN_MODE_USER_RANK_WEEKLY) {\r\n\t\tprefix = \" 이번 주 \";\r\n\t} else if (screenMode === SCREEN_MODE_USER_RANK_MONTHLY) {\r\n\t\tprefix = \" 이번 달 \";\r\n\t} else if (screenMode === SCREEN_MODE_GOOD_WRITER) {\r\n\t\tprefix = \" 좋아요: \";\r\n\t\tpostfix = \"\";\r\n\t}\r\n\r\n\tconst styles = useUserCardStyles();\r\n\tconst sliderStyles = useSliderStyles();\r\n\r\n\tconst progressValue = clientInfo && clientInfo.read && clientInfo.goal ?\r\n\t\tMath.floor((clientInfo.read * 100) / clientInfo.goal) : 0;\r\n\r\n\treturn (\r\n\t\t<Card className={cx(styles.card)} elevation={0}\r\n\t\t      onClick={() => {handleCardClick(dispatch, clientInfo);}}>\r\n\t\t\t<Avatar src={imageUrl} className={styles.avatar} />\r\n\t\t\t<Box>\r\n\t\t\t\t<h3 className={styles.heading}>{clientInfo.profileName}</h3>\r\n\t\t\t\t<p className={styles.subheader}>{clientInfo.age}세 •\r\n\t\t\t\t\t{prefix} <span style={{color: \"brown\"}}>{\r\n\t\t\t\t\t\tscreenMode === SCREEN_MODE_GOOD_WRITER ?\r\n\t\t\t\t\t\t\tuserItem.like: userItem.read}</span> {postfix}\r\n\t\t\t\t</p>\r\n\t\t\t\t<Box display={'flex'} alignItems={'center'}>\r\n\t\t\t\t\t<Slider classes={sliderStyles} value={progressValue}/>\r\n\t\t\t\t\t<span className={styles.value}>{clientInfo.read}/{clientInfo.goal}</span>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Card>\r\n\t);\r\n});\r\n\r\nexport default UserCard;","import {\r\n    SCREEN_MODE_BEST_READER,\r\n    SCREEN_MODE_FAMOUS_BOOK,\r\n    SCREEN_MODE_GOOD_WRITER,\r\n    SCREEN_MODE_RECENT_REVIEW,\r\n    SCREEN_MODE_USER_RANK_DAILY,\r\n    SCREEN_MODE_USER_RANK_MONTHLY,\r\n    SCREEN_MODE_USER_RANK_WEEKLY\r\n} from \"../const\";\r\nimport {collection, getDocs, limit, orderBy, query, where} from \"firebase/firestore\";\r\nimport {fbDB} from \"../firebase/features\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {MyContext} from \"../hooks/reducer\";\r\nimport UserCard from \"./UserCard\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\n\r\nconst getWeekOfYear = (currentDate) => {\r\n    const oneJan = new Date(currentDate.getFullYear(),0,1);\r\n    const numberOfDays = Math.floor((currentDate - oneJan) / (24 * 60 * 60 * 1000));\r\n    return Math.floor((currentDate.getDay() + 1 + numberOfDays) / 7);\r\n}\r\n\r\nconst queryCallAsync = async (mode) => {\r\n    const date = new Date();\r\n    let path = ``;\r\n    let q = null;\r\n\r\n    console.log(mode);\r\n\r\n    const retrieveNum = 50;\r\n\r\n    if (mode === SCREEN_MODE_USER_RANK_DAILY) {\r\n        path = `UserRank/Rank_Day_${date.getFullYear()}_${date.getMonth() + 1}_${date.getDate()}/Rank_Day_${date.getFullYear()}_${date.getMonth() + 1}_${date.getDate()}`;\r\n    } else if (mode === SCREEN_MODE_USER_RANK_WEEKLY) {\r\n        path = `UserRank/Rank_Week_${date.getFullYear()}_${getWeekOfYear(date)}/Rank_Week_${date.getFullYear()}_${getWeekOfYear(date)}`;\r\n    } else if (mode === SCREEN_MODE_USER_RANK_MONTHLY) {\r\n        path = `UserRank/Rank_Month_${date.getFullYear()}_${date.getMonth() + 1}/Rank_Month_${date.getFullYear()}_${date.getMonth() + 1}`;\r\n    } else if (mode === SCREEN_MODE_BEST_READER) {\r\n        path = `ClientInfoDataBase`;\r\n    } else if (mode === SCREEN_MODE_GOOD_WRITER) {\r\n        path = \"ClientInfoDataBase\";\r\n        q = query(collection(fbDB, path), where(\"like\", \">\", 0), orderBy(\"like\", \"desc\"), limit(retrieveNum));\r\n    } else if (mode === SCREEN_MODE_FAMOUS_BOOK) {\r\n        path = 'Books';\r\n    } else if (mode === SCREEN_MODE_RECENT_REVIEW) {\r\n        path = \"MessageDataBase\";\r\n        q = query(collection(fbDB, path), orderBy(\"updatedDate\", \"desc\"), limit(retrieveNum));\r\n    }\r\n    console.log(\"query path = \", path);\r\n\r\n    if (!path) {\r\n        return new Promise((resolve) => {\r\n            resolve([]);\r\n        });\r\n    }\r\n\r\n    if (q === null)\r\n        q = query(collection(fbDB, path), where(\"read\", \">\", 0), orderBy(\"read\", \"desc\"), limit(retrieveNum));\r\n    return await getDocs(q)\r\n}\r\n\r\nconst UserList = () => {\r\n    const {state} = useContext(MyContext);\r\n    const [error, setError] = useState(null);\r\n    const [userList, setUserList] = useState(null);\r\n    const mode = state.mode;\r\n    console.log('################ UserList render() userList=>', mode, userList);\r\n\r\n    useEffect( () => {\r\n        try {\r\n            setError(null);\r\n            setUserList(null);\r\n            queryCallAsync(mode).then(r => {\r\n                let itemList = [];\r\n                r.forEach((doc) => {\r\n                    const data = doc.data();\r\n                    itemList.push(data);\r\n                });\r\n                console.log(\"UserList ===> itemList ==> \", itemList);\r\n                setUserList(itemList);\r\n            });\r\n        } catch (e) {\r\n            setError(e);\r\n        }\r\n    }, [mode]);\r\n\r\n    if (mode !== SCREEN_MODE_USER_RANK_MONTHLY &&\r\n        mode !== SCREEN_MODE_USER_RANK_WEEKLY &&\r\n        mode !== SCREEN_MODE_USER_RANK_DAILY &&\r\n        mode !== SCREEN_MODE_BEST_READER &&\r\n        mode !== SCREEN_MODE_GOOD_WRITER)\r\n        return (\r\n            <div />\r\n        )\r\n\r\n    if (error) return (\r\n        <Box marginTop='10em' sx={{\r\n            textAlign: 'center',\r\n            verticalAlign: 'middle',\r\n            height: '100rem'\r\n        }}>\r\n            <h5>데이터 로딩중에 오류가 발생했습니다. {error}</h5>\r\n        </Box>\r\n    );\r\n\r\n    if (userList === null) return (\r\n        <Box marginTop='10em' sx={{\r\n            textAlign: 'center',\r\n            verticalAlign: 'middle',\r\n            height: '100rem'\r\n        }}>\r\n            <h5>데이타를 로딩중입니다...</h5>\r\n        </Box>\r\n    );\r\n\r\n    return (\r\n        <Box marginTop='5em' sx={{\r\n            width: '100%',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            flexDirection: 'row',\r\n            flexWrap: 'wrap'\r\n        }}>\r\n            {\r\n                userList && userList.length > 0 ?\r\n                        userList.map((user, i) => <UserCard key={\"\" + i} userItem={user} screenMode={mode}/>) :\r\n                    <div>\r\n                        <h2>데이타를 로딩중입니다...</h2>\r\n                    </div>\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default UserList","import * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Typography from '@mui/material/Typography';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport Container from '@mui/material/Container';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {MyContext} from \"../hooks/reducer\";\r\nimport {\r\n\tACTION_CHANGE_MODE,\r\n\tSCREEN_MODE_BEST_READER,\r\n\tSCREEN_MODE_FAMOUS_BOOK, SCREEN_MODE_FIND_USER,\r\n\tSCREEN_MODE_GOOD_WRITER, SCREEN_MODE_INIT, SCREEN_MODE_RECENT_REVIEW, SCREEN_MODE_SIGN_IN,\r\n\tSCREEN_MODE_USER_RANK_DAILY, SCREEN_MODE_USER_RANK_MONTHLY,\r\n\tSCREEN_MODE_USER_RANK_WEEKLY\r\n} from \"../const\";\r\nimport {getDownloadURL, ref} from \"firebase/storage\";\r\nimport {fbStorage} from \"../firebase/features\";\r\nimport {Slide, useScrollTrigger} from \"@mui/material\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst pages = [\r\n\t{\r\n\t\tmode: SCREEN_MODE_GOOD_WRITER,\r\n\t\tvalue: '인기 리뷰어',\r\n\t},\r\n\t// {\r\n\t// \tmode: SCREEN_MODE_FAMOUS_BOOK,\r\n\t// \tvalue: '인기 도서'\r\n\t// },\r\n\t// {\r\n\t// \tmode: SCREEN_MODE_RECENT_REVIEW,\r\n\t// \tvalue: '리뷰'\r\n\t// },\r\n\t{\r\n\t\tmode: SCREEN_MODE_USER_RANK_DAILY,\r\n\t\tvalue: '오늘의 독서왕'\r\n\t},\r\n\t{\r\n\t\tmode: SCREEN_MODE_USER_RANK_WEEKLY,\r\n\t\tvalue: '주간 독서왕'\r\n\t},\r\n\t{\r\n\t\tmode: SCREEN_MODE_USER_RANK_MONTHLY,\r\n\t\tvalue: '월간 독서왕'\r\n\t},\r\n\t{\r\n\t\tmode: SCREEN_MODE_BEST_READER,\r\n\t\tvalue: '베스트 리더'\r\n\t},\r\n\t// {\r\n\t// \tmode: SCREEN_MODE_FIND_USER,\r\n\t// \tvalue: '친구 찾기'\r\n\t// }\r\n];\r\n\r\nconst settings = ['Profile', 'Account', 'Dashboard', 'Logout'];\r\n\r\nconst HideOnScroll = (props) => {\r\n\tconst { children, window } = props;\r\n\t// Note that you normally won't need to set the window ref as useScrollTrigger\r\n\t// will default to window.\r\n\t// This is only being set here because the demo is in an iframe.\r\n\tconst trigger = useScrollTrigger({\r\n\t\ttarget: window ? window() : undefined,\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Slide appear={false} direction=\"down\" in={!trigger}>\r\n\t\t\t{children}\r\n\t\t</Slide>\r\n\t);\r\n}\r\n\r\nHideOnScroll.propTypes = {\r\n\tchildren: PropTypes.element.isRequired,\r\n\t/**\r\n\t * Injected by the documentation to work in an iframe.\r\n\t * You won't need it on your project.\r\n\t */\r\n\twindow: PropTypes.func,\r\n};\r\n\r\nconst getDefaultTitle = (mode) => {\r\n\r\n\tconst result = pages.filter(page => mode === page.mode);\r\n\tif (result.length > 0) {\r\n\t\tconsole.log(\"getDefaultTitle=>\", result);\r\n\t\treturn result[0].value;\r\n\t} else {\r\n\t\treturn '천권읽기';\r\n\t}\r\n}\r\n\r\nconst ResponsiveAppBar = (props) => {\r\n\tconst {state, dispatch, logout} = useContext(MyContext);\r\n\tconst user = props.user;\r\n\tconst [anchorElNav, setAnchorElNav] = useState(null);\r\n\tconst [anchorElUser, setAnchorElUser] = useState(null);\r\n\tconst [imageUrl, setImageUrl] = useState(null);\r\n\tconst [title, setTitle] = useState(getDefaultTitle(SCREEN_MODE_INIT));\r\n\r\n\tconsole.log(\"ResponsiveAppBar title=>\", title, state.mode);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user) {\r\n\t\t\tconst userUrl = `${user.email}`;\r\n\t\t\tconst downloadUrl = user.photoURL;\r\n\t\t\tconsole.log(\"ResponsiveAppBar downloadUrl=>\", downloadUrl);\r\n\r\n\t\t\tif (!downloadUrl) {\r\n\t\t\t\tlet storageRef = ref(fbStorage, `/profile_thumbnails/${userUrl}.png`)\r\n\t\t\t\tgetDownloadURL(storageRef).then(value => {\r\n\t\t\t\t\tconsole.log('Me download_url=', value)\r\n\t\t\t\t\tsetImageUrl(value)\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetImageUrl(downloadUrl);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\tif (!user) {\r\n\t\treturn (\r\n\t\t\t<div/>\r\n\t\t)\r\n\t}\r\n\r\n\tconst handleOpenNavMenu = (event) => {\r\n\t\tconsole.log(\"handleOpenNavMenu=>\", event.currentTarget);\r\n\t\tsetAnchorElNav(event.currentTarget);\r\n\t};\r\n\tconst handleOpenUserMenu = (event) => {\r\n\t\tconsole.log(\"handleOpenUserMenu=>\", event.currentTarget);\r\n\t\tsetAnchorElUser(event.currentTarget);\r\n\t};\r\n\tconst handleHomeMenu = () => {\r\n\t\tdispatch({type: ACTION_CHANGE_MODE, mode: SCREEN_MODE_INIT});\r\n\t}\r\n\r\n\tconst handleCloseNavMenu = (item) => {\r\n\t\tconsole.log(\"handleCloseNavMenu\", item);\r\n\t\tsetAnchorElNav(null);\r\n\t\tif (item.target.innerText === 'Logout') {\r\n\t\t\tconsole.log('Logout~!!!')\r\n\t\t\tsetAnchorElUser(null);\r\n\t\t\tsetImageUrl('');\r\n\t\t\tlogout(dispatch);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (item.target.dataset.index) {\r\n\t\t\tdispatch({type: ACTION_CHANGE_MODE, mode: item.target.dataset.index});\r\n\t\t} else if(item.target.parentElement.dataset.index) {\r\n\t\t\tsetTitle(item.target.innerText);\r\n\t\t\tdispatch({type: ACTION_CHANGE_MODE, mode: item.target.parentElement.dataset.index});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCloseUserMenu = () => {\r\n\t\tsetAnchorElUser(null);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<HideOnScroll {...props}>\r\n\t\t<AppBar sx={{\r\n\t\t\tbackground: '#F08080'\r\n\t\t}}>\r\n\t\t\t<Container maxWidth=\"xl\">\r\n\t\t\t\t<Toolbar disableGutters>\r\n\t\t\t\t\t<div style={ {cursor: 'pointer'}} onClick={handleHomeMenu}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\tfontFamily={\"Gamja Flower\"}\r\n\t\t\t\t\t\t\tsx={{ mr: 2, display: { xs: 'none', md: 'flex' } }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t천권읽기\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Box sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\taria-label=\"account of current user\"\r\n\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\r\n\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\tonClick={handleOpenNavMenu}\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tid=\"menu-appbar\"\r\n\t\t\t\t\t\t\tanchorEl={anchorElNav}\r\n\t\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\topen={Boolean(anchorElNav)}\r\n\t\t\t\t\t\t\tonClose={handleCloseNavMenu}\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\tdisplay: { xs: 'block', md: 'none' },\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{pages.map((page) => (\r\n\t\t\t\t\t\t\t\t<MenuItem key={page.mode}\r\n\t\t\t\t\t\t\t\t          data-index={page.mode} onClick={handleCloseNavMenu}>\r\n\t\t\t\t\t\t\t\t\t<Typography textAlign=\"center\">{page.value}</Typography>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\tfontFamily={\"Gamja Flower\"}\r\n\t\t\t\t\t\tsx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\r\n\t\t\t\t\t\t{pages.map((page) => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tkey={page.mode}\r\n\t\t\t\t\t\t\t\tdata-index={page.mode}\r\n\t\t\t\t\t\t\t\tonClick={handleCloseNavMenu}\r\n\t\t\t\t\t\t\t\tsx={{ my: 2, color: 'white', display: 'block' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{page.value}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t<Box sx={{ flexGrow: 0 }}>\r\n\t\t\t\t\t\t<Tooltip title=\"Open settings\">\r\n\t\t\t\t\t\t\t<IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\r\n\t\t\t\t\t\t\t\t<Avatar alt=\"Remy Sharp\" src={imageUrl} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\tsx={{ mt: '45px' }}\r\n\t\t\t\t\t\t\tid=\"menu-appbar\"\r\n\t\t\t\t\t\t\tanchorEl={anchorElUser}\r\n\t\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\topen={Boolean(anchorElUser)}\r\n\t\t\t\t\t\t\tonClose={handleCloseUserMenu}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{settings.map((setting) => (\r\n\t\t\t\t\t\t\t\t<MenuItem key={setting} onClick={handleCloseNavMenu}>\r\n\t\t\t\t\t\t\t\t\t<Typography textAlign=\"center\">{setting}</Typography>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</Container>\r\n\t\t</AppBar>\r\n\t\t</HideOnScroll>\r\n\t);\r\n};\r\n\r\nexport default ResponsiveAppBar;\r\n","import Avatar from \"@mui/material/Avatar\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {getDownloadURL, ref} from \"firebase/storage\";\r\nimport {fbStorage} from \"../firebase/features\";\r\n\r\n\r\nconst UserAvatar = ({user}) => {\r\n\tconst [imageLink, setImageLink] = useState(null);\r\n\tconst userUrl = user.email ? `${user.email}_${user.profileId}`: '';\r\n\r\n\tconsole.log(\"UserAvatar====>\", user);\r\n\tuseEffect(() => {\r\n\t\tlet storageRef = ref(fbStorage, `/profile_thumbnails/${userUrl}.png`)\r\n\t\tgetDownloadURL(storageRef).then(value => {\r\n\t\t\tconsole.log('download_url=', value)\r\n\t\t\tsetImageLink(value)\r\n\t\t});\r\n\t}, [user, userUrl]);\r\n\r\n\treturn (\r\n\t\t<Avatar src={imageLink} alt=\"No image\"/>\r\n\t);\r\n}\r\n\r\nexport default UserAvatar;","import * as React from 'react';\r\nimport Stack from '@mui/material/Stack';\r\nimport UserAvatar from \"./UserAvatar\";\r\n\r\nconst AvatarList = ({users}) => {\r\n\r\n\tlet avatar_list = []\r\n\tusers.forEach(user => {\r\n\t\tavatar_list.push(<UserAvatar user={user} />);\r\n\t})\r\n\r\n\r\n\treturn (\r\n\t\t<Stack\r\n\t\t\tmt={2} direction=\"row\" spacing={2}>\r\n\t\t\t{avatar_list}\r\n\t\t</Stack>\r\n\t);\r\n}\r\n\r\nexport default AvatarList;","import {ListItem, ListItemAvatar, ListItemText} from \"@mui/material\";\r\nimport UserAvatar from \"./UserAvatar\";\r\nimport {doc, getDoc} from \"firebase/firestore\";\r\nimport {fbDB} from \"../firebase/features\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nconst queryClientInfo = async (email, profileId) => {\r\n\tconst q = doc(fbDB, 'ClientInfoDataBase', `${email}_${profileId}`);\r\n\treturn await getDoc(q);\r\n}\r\n\r\nconst Review = ({review}) => {\r\n\tconst [clientInfo, setClientInfo] = useState(null);\r\n\tconsole.log(\"Review =======> \", review);\r\n\r\n\tconst user = {\r\n\t\temail: review.writerEmail,\r\n\t\tprofileId: review.writerProfileId\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tqueryClientInfo(user.email, user.profileId).then(doc => {\r\n\t\t\tconsole.log(\"clientInfo =>\", doc.data());\r\n\t\t\tsetClientInfo(doc.data());\r\n\t\t});\r\n\t}, [user.email, user.profileId])\r\n\r\n\treturn (\r\n\t\t<ListItem alignItems=\"flex-start\">\r\n\t\t\t<ListItemAvatar>\r\n\t\t\t\t<UserAvatar alt=\"No image\" user={user}/>\r\n\t\t\t</ListItemAvatar>\r\n\t\t\t<ListItemText\r\n\t\t\t\tprimary={\r\n\t\t\t\t\tclientInfo?\r\n\t\t\t\t\t\tclientInfo.profileName:\"\"\r\n\t\t\t\t}\r\n\t\t\t\tsecondary={\r\n\t\t\t\t\treview.bodyMessage\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</ListItem>\r\n\t);\r\n}\r\n\r\nexport default Review;","import {useEffect, useState} from \"react\";\r\nimport {CircularProgress, List} from \"@mui/material\";\r\nimport {collection, getDocs, limit, orderBy, query, where} from \"firebase/firestore\";\r\nimport {fbDB} from \"../firebase/features\";\r\nimport Review from \"./Review\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nconst queryReviewListAsync = async (isbn) => {\r\n\tconst q = query(collection(fbDB, 'MessageDataBase'), where(\"isbn\", \"==\", isbn), orderBy(\"updatedDate\", \"desc\"), limit(20));\r\n\treturn await getDocs(q)\r\n}\r\n\r\nconst ReviewList = ({isbn}) => {\r\n\tconst [reviewList, setReviewList] = useState(null);\r\n\tconsole.log(\"ReviewList ===>\", isbn);\r\n\r\n\tuseEffect( () => {\r\n\t\tqueryReviewListAsync(isbn).then(r => {\r\n\t\t\tlet itemList = [];\r\n\t\t\tr.forEach((doc) => {\r\n\t\t\t\tconst data = doc.data();\r\n\t\t\t\titemList.push(\r\n\t\t\t\t\t<Review review={data}/>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tsetReviewList(itemList);\r\n\t\t});\r\n\t}, [isbn]);\r\n\r\n\treturn (\r\n\t\t\treviewList ?\r\n\t\t\t\t(reviewList.length === 0) ?\r\n\t\t\t\t\t<Typography style={{textAlign:'center'}} id=\"modal-modal-description\" sx={{ mt: 2 }}>작성된 리뷰가 없습니다. </Typography>:\r\n\t\t\t\t\t<List>{reviewList}</List> :\r\n\t\t\t\t\t\t<CircularProgress/>\r\n\t);\r\n}\r\n\r\nexport default ReviewList;","import {\r\n\tButton,\r\n\tCircularProgress,\r\n\tContainer,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle, Divider\r\n} from \"@mui/material\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {getDownloadURL, ref} from \"firebase/storage\";\r\nimport {fbDB, fbStorage} from \"../firebase/features\";\r\nimport './Book.css';\r\nimport {doc, getDoc} from \"firebase/firestore\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Box from \"@mui/material/Box\";\r\nimport AvatarList from \"./AvatarList\";\r\nimport ReviewList from \"./ReviewList\";\r\n\r\nconst dialogStyle = {\r\n\tdisplay: 'flex',\r\n    justifyContent: 'center',\r\n\tflexDirection: 'row',\r\n\tflexWrap: 'wrap'\r\n}\r\n\r\nconst queryBookDetails = async (isbn) => {\r\n\tconst q = doc(fbDB, 'Books', isbn);\r\n\treturn await getDoc(q);\r\n}\r\n\r\nconst LoadBookDetails = (isbn, setBookDetails, setImageBigUrl) => {\r\n\tconsole.log('LoadBookDetails ====> ', isbn);\r\n\tqueryBookDetails(isbn).then(r => {\r\n\t\tconst bookDetails = r.data();\r\n\t\tconsole.log('LoadBookDetails Success !!!! ====> ', r.data());\r\n\t\tif (bookDetails.imageLinkBig) {\r\n\t\t\tconsole.log('LoadBookDetails imageLinkBig==>', bookDetails.imageLinkBig);\r\n\t\t\tsetImageBigUrl(bookDetails.imageLinkBig);\r\n\t\t}\r\n\t\tsetBookDetails(r.data());\r\n\r\n\t}).catch(e => {\r\n\t\tconsole.log('LoadBookDetails Error !!!! ====> ', e);\r\n\t\tsetBookDetails({});\r\n\t});\r\n}\r\n\r\nconst Book = ({book}) => {\r\n\tconst [imageUrl, setImageUrl] = useState(null);\r\n\tconst [imageBigUrl, setImageBigUrl] = useState(null);\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [bookDetails, setBookDetails] = useState(null);\r\n\tconsole.log('Book===>', imageUrl);\r\n\r\n\tlet bookThumbnailUrl = book[11];\r\n\tif (imageUrl)\r\n\t\tbookThumbnailUrl = imageUrl;\r\n\r\n\tconst handleClickOpen = () => {\r\n\t\tsetOpen(true);\r\n\t\t// if (!bookDetails)\r\n\t\t\tLoadBookDetails(book[12], setBookDetails, setImageBigUrl);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\tconst handleGoto = () => {\r\n\t\tsetOpen(false);\r\n\t\twindow.open(book[10]);\r\n\t};\r\n\r\n\tconst handleOnImageError = (e) => {\r\n\t\tconsole.log('handleOnImageError === ', e.target.src, imageUrl, e);\r\n\t\tif (e.target.src && imageUrl && e.target.src !== imageUrl)\r\n\t\t\te.target.src = imageUrl;\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (bookThumbnailUrl.startsWith(\"gs://\")) {\r\n\t\t\tlet storageRef = ref(fbStorage, bookThumbnailUrl);\r\n\t\t\tgetDownloadURL(storageRef).then(value => {\r\n\t\t\t\tconsole.log('BookThumbnail download_url=', value);\r\n\t\t\t\tsetImageUrl(value)\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetImageUrl(bookThumbnailUrl);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst readDate = +book[14];\r\n\tconst date = new Date(readDate);\r\n\tconsole.log('read date=', date);\r\n\tconst dateStr = `${date.getFullYear()}년 ${date.getMonth()+1}월 ${date.getDate()}일`;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container className=\"bookImgContainer\">\r\n\t\t\t\t{\r\n\t\t\t\t\timageUrl && imageUrl.startsWith(\"http\") ?\r\n\t\t\t\t\t\t<img onClick={handleClickOpen} className='bookImg' src={imageUrl} alt={book[2]}/>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div onClick={handleClickOpen} className=\"image\">\r\n\t\t\t\t\t\t\t<img className='bookImg' src=\"\" alt=\"\"/>\r\n\t\t\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t\t\t{book[2]}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</Container>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\taria-labelledby=\"customized-dialog-title\"\r\n\t\t\t\taria-describedby=\"modal-modal-description\"\r\n\t\t\t\tscroll={'paper'}\r\n\t\t\t\tclassName=\"dialogStyle\"\r\n\t\t\t>\r\n\t\t\t\t<DialogContent id=\"modal-modal-description\" sx={{ mt: 2 }}>\r\n\t\t\t\t\t<DialogTitle id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\r\n\t\t\t\t\t\t{book[2]}\r\n\t\t\t\t\t</DialogTitle>\r\n\r\n\t\t\t\t\t<Box sx={dialogStyle}>\r\n\t\t\t\t\t\t<img className='bookImgLarge' src={imageBigUrl? imageBigUrl: imageUrl? imageUrl: \"\"} alt={book[2]}\r\n\t\t\t\t\t\t     onError={handleOnImageError}/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Typography id=\"modal-modal-description\" sx={{ mt: 2 }}>\r\n\t\t\t\t\t\t<span style={{color: 'red'}}>{dateStr}</span>에 읽었습니다.\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t(bookDetails !== null) ?\r\n\t\t\t\t\t\t\tbookDetails.read ?\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography id=\"modal-modal-description\" sx={{ mt: 2 }}>\r\n\t\t\t\t\t\t\t\t\t\t천권읽기 회원 총 <span style={{color: 'red'}}>{bookDetails.read}</span> 명이 읽었습니다.\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t\t\t\t<AvatarList style={{\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\tflexDirection: 'row',\r\n\t\t\t\t\t\t\t\t\t\t\tflexWrap: 'wrap'\r\n\t\t\t\t\t\t\t\t\t\t}} users={bookDetails.readPeople}/>\r\n\t\t\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t\t</div>: <div/> : <CircularProgress />\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t<Typography id=\"modal-modal-description\" sx={{ mt: 3 }}>\r\n\t\t\t\t\t\t\t{book[7]}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</DialogContentText>\r\n\r\n\t\t\t\t\t<Divider sx={{mt:2}}/>\r\n\t\t\t\t\t<ReviewList isbn={book[12]}/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbook[10] ?\r\n\t\t\t\t\t\t\t<Button onClick={handleGoto}>이 책에 대한 자세한 내용 보러가기</Button> :\r\n\t\t\t\t\t\t\t<div/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Book;","import {useContext, useEffect, useState} from \"react\";\r\nimport {MyContext} from \"../hooks/reducer\";\r\nimport {SCREEN_MODE_BOOK_SHELF} from \"../const\";\r\nimport {getDownloadURL, ref} from \"firebase/storage\";\r\nimport {fbStorage} from \"../firebase/features\";\r\nimport Book from \"./Book\";\r\nimport Box from \"@mui/material/Box\";\r\nimport UserAvatar from \"./UserAvatar\";\r\nimport './Book.css';\r\nimport {CircularProgress} from \"@mui/material\";\r\n\r\n\r\nconst BookShelf = () => {\r\n\tconst {state} = useContext(MyContext);\r\n\tconst [contents, setContents] = useState(null);\r\n\tconst [error, setError] = useState(null);\r\n\tconsole.log('BookShelf state=>', state);\r\n\tconst mode = state.mode;\r\n\tconst user = state.selectedUser;\r\n\r\n\tuseEffect(()=> {\r\n\t\tif (user) {\r\n\t\t\tconsole.log('BookShelf download db...', user);\r\n\t\t\tsetContents(null);\r\n\t\t\tsetError(null);\r\n\t\t\tlet storageRef = ref(fbStorage, `/databases/${user.email}.db`)\r\n\t\t\tgetDownloadURL(storageRef).then(value => {\r\n\t\t\t\tconsole.log('download_url=', value)\r\n\t\t\t\twindow.initSqlJs({\r\n\t\t\t\t\tlocateFile: filename => `/dist/${filename}`\r\n\t\t\t\t}).then(SQL => {\r\n\t\t\t\t\tconsole.log(\"SQL\", SQL);\r\n\t\t\t\t\tconst url = value;\r\n\t\t\t\t\tconst xhr = new XMLHttpRequest();\r\n\t\t\t\t\txhr.responseType = 'arraybuffer';\r\n\t\t\t\t\txhr.onload = (event) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst blob = xhr.response;\r\n\t\t\t\t\t\t\t// console.log(\"downloaded blob=\", typeof(blob), blob);\r\n\t\t\t\t\t\t\tconst uInt8Array = new Uint8Array(blob);\r\n\t\t\t\t\t\t\tconst db = new SQL.Database(uInt8Array);\r\n\t\t\t\t\t\t\tconst contents = db.exec(`SELECT * FROM tbl_favorite WHERE profileid = ${user.profileId} AND pagecount >= 0 ORDER BY readdate DESC LIMIT 100`);\r\n\t\t\t\t\t\t\tconsole.log(\"contents ==>\", contents);\r\n\t\t\t\t\t\t\tif (contents.length > 0 && contents[0].values) {\r\n\t\t\t\t\t\t\t\tsetContents(contents[0].values);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetContents([]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.log(\"database error ~~~> \", e);\r\n\t\t\t\t\t\t\tsetError(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\txhr.open('GET', url);\r\n\t\t\t\t\txhr.send();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\tif (mode !== SCREEN_MODE_BOOK_SHELF) {\r\n\t\treturn (\r\n\t\t\t<div className=\"hidden\"/>\r\n\t\t)\r\n\t}\r\n\r\n\tif (error) return (\r\n\t\t<Box marginTop='10em' sx={{\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'middle',\r\n\t\t\theight: '100rem'\r\n\t\t}}>\r\n\t\t\t<h5>도서 데이터베이스 로딩중에 오류가 발생했습니다.</h5>\r\n\t\t</Box>\r\n\t);\r\n\r\n\tif (contents === null) return (\r\n\t\t<Box marginTop='10em' sx={{\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'middle',\r\n\t\t\theight: '100rem'\r\n\t\t}}>\r\n\t\t\t<CircularProgress className={\"circularProgress\"} color=\"inherit\"/>\r\n\t\t\t<h6>도서 데이터베이스를 로딩중입니다...</h6>\r\n\t\t</Box>\r\n\t);\r\n\r\n\tconsole.log('BookShelf render() ===>', mode)\r\n\r\n\tconst books = contents.slice(0, 100);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Box className=\"bookShelfCard\" sx={{\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\tflexDirection: 'row',\r\n\t\t\t\tflexWrap: 'wrap'\r\n\t\t\t}}>\r\n\t\t\t\t<UserAvatar user={user} /> <span style={{ marginLeft: '10px', padding: '5px'}}>{user.profileName} • (최근에 읽은 책들)</span>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tsx={{\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\tflexDirection: 'row',\r\n\t\t\t\t\tflexWrap: 'wrap'\r\n\t\t\t\t}}>\r\n\t\t\t\t{books.map((book, index) => <Book key={\"\" + index} book={book}/>)}\r\n\t\t\t</Box>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default BookShelf;","export default __webpack_public_path__ + \"static/media/icon.30816d4f.png\";","export default __webpack_public_path__ + \"static/media/user_card.cd3ccae2.png\";","export default __webpack_public_path__ + \"static/media/bookshelf2.4ebac43f.png\";","import Box from \"@mui/material/Box\";\r\nimport {useContext} from \"react\";\r\nimport {MyContext} from \"../hooks/reducer\";\r\nimport {SCREEN_MODE_INIT} from \"../const\";\r\nimport logo from \"./../img/image1.svg\";\r\nimport appIcon from \"./../img/icon.png\";\r\nimport userCards from \"./../img/user_card.png\";\r\nimport bookShelf from \"./../img/bookshelf2.png\";\r\nimport {Link} from \"@mui/material\";\r\nimport \"./Home.css\"\r\n\r\nconst Home = () => {\r\n\tconst {state} = useContext(MyContext);\r\n\tconst mode = state.mode;\r\n\tconsole.log(\"Home render() ======> \", mode);\r\n\r\n\tif (mode !== SCREEN_MODE_INIT) {\r\n\t\treturn (<div />);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box paddingTop='5rem' textAlign='center'>\r\n\t\t\t<img src={logo} className=\"logo\"/>\r\n\t\t\t<h1 className=\"main-title\">독서의 힘, 앱으로 키워요</h1>\r\n\t\t\t<div className=\"sub-title\">\r\n\t\t\t\t<p>책읽기 싫어하는 자녀를<br/>\r\n\t\t\t\t\t스스로 독서하는 아이로</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<img src={userCards} className={\"userCard\"} />\r\n\r\n\t\t\t<div className=\"margin-top-desc\">\r\n\t\t\t\t<p className=\"main-title\" style={{textAlign: 'left'}}>독서의 페이스메이커</p>\r\n\t\t\t\t<div className=\"main-description\">\r\n\t\t\t\t\t<p><span style={{color:\"#B44C4F\"}}>달성율</span>을 보면서 목표량을 향해 달립니다.<br/>\r\n\t\t\t\t\t\t친구와 함께 <span style={{color:\"#B44C4F\"}}>독서방</span>을 만들고 읽은 책을 공유합니다.<br/>\r\n\t\t\t\t\t\t오늘의 <span style={{color:\"#B44C4F\"}}>독서왕, 주간, 월간 독서왕</span>에 도전해 보세요.<br/>\r\n\t\t\t\t\t\t명예의 전당에 오른 친구들의 <span style={{color:\"#B44C4F\"}}>독서이력</span>을 보며 독서의 마음가짐을 새롭게 합니다.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<img src={bookShelf} className={\"userCard\"} />\r\n\r\n\t\t\t<div className=\"margin-top-desc\">\r\n\t\t\t\t<p className=\"main-title\" style={{textAlign: 'right'}}>독서 동기 전문가</p>\r\n\t\t\t\t<div className=\"main-description\" style={{textAlign: 'right'}}>\r\n\t\t\t\t\t<p>선뜻 혼자 시작하기 어려우시다면 <span style={{color:\"#B44C4F\"}}>방학레이스</span> 참여해보세요.<br/>\r\n\t\t\t\t\t\t함께 달리는 재미로 어느덧 목표량에 도달합니다.<br/>\r\n\t\t\t\t\t\t완주 후 주어지는 뱃지와 상장에 뿌듯함은 두 배~</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"margin-top-desc\">\r\n\t\t\t\t<p className=\"main-title\">천권읽기를 활용해보세요</p>\r\n\t\t\t\t<div className=\"sub-title\">\r\n\t\t\t\t\t<p>책읽기 싫어하는 자녀를<br/>\r\n\t\t\t\t\t\t스스로 독서하는 아이로</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Link underline=\"hover\" color=\"#3a3737\"\r\n\t\t\t   href=\"https://play.google.com/store/apps/details?id=com.yeoniyouni.readbooks&amp;hl=ko\" target=\"_blank\">\r\n\t\t\t\t<img className=\"img-icon-book margin-top-desc\" src={appIcon}/>\r\n\t\t\t\t<div className=\"link-button\">\r\n\t\t\t\t\t천권읽기 앱 설치하기\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t</Box>\r\n\t);\r\n}\r\n\r\nexport default Home;","import {fbAuth} from \"./firebase/features\";\r\nimport {useEffect, useReducer, useState} from \"react\";\r\nimport {ACTION_CHANGE_MODE, SCREEN_MODE_INIT, SCREEN_MODE_SIGN_IN} from \"./const\";\r\nimport Signin from \"./components/Signin\";\r\nimport UserList from \"./components/UserList\";\r\nimport stateReducer, {initValues, MyContext} from \"./hooks/reducer\";\r\nimport ResponsiveAppBar from \"./components/ResponsiveAppBar\";\r\nimport BookShelf from \"./components/BookShelf\";\r\nimport Home from \"./components/Home\";\r\nimport {ThemeProvider} from \"@mui/styles\";\r\nimport {createTheme} from \"@mui/material\";\r\nimport \"./App.css\";\r\n\r\nconst useFirebaseAuthentication = () => {\r\n    const [authUser, setAuthUser] = useState(null);\r\n\r\n    useEffect(() =>{\r\n        const unlisten = fbAuth.onAuthStateChanged(\r\n            authUser => {\r\n                console.log(\"authUser=>\", authUser);\r\n\r\n                authUser\r\n                    ? setAuthUser(authUser)\r\n                    : setAuthUser(null);\r\n            },\r\n        );\r\n        return () => {\r\n            unlisten();\r\n        }\r\n    }, []);\r\n\r\n    return authUser\r\n}\r\n\r\nconst logout = (dispatch) => {\r\n    fbAuth.signOut().then((result)=> {\r\n        console.log(\"signed out~!!\");\r\n        dispatch({\r\n            type: ACTION_CHANGE_MODE,\r\n            mode: SCREEN_MODE_SIGN_IN\r\n        });\r\n    }).catch((error)=> {\r\n        console.log(\"signed out failed~!!!\", error)\r\n    });\r\n}\r\n\r\n\r\nfunction App(props) {\r\n    const [state, dispatch] = useReducer(stateReducer, initValues, undefined);\r\n    console.log(\"App state=>\", state);\r\n    const authUser = useFirebaseAuthentication();\r\n\r\n    console.log(\"app render()...\", authUser);\r\n\r\n    useEffect(()=>{\r\n        if (authUser === null) {\r\n            dispatch({type: ACTION_CHANGE_MODE,\r\n                mode: SCREEN_MODE_SIGN_IN});\r\n        } else {\r\n            dispatch({type: ACTION_CHANGE_MODE,\r\n                mode: SCREEN_MODE_INIT});\r\n        }\r\n    }, [authUser]);\r\n\r\n    const theme = createTheme();\r\n\r\n    return (\r\n        <MyContext.Provider value={{state, dispatch, logout}}>\r\n            <ThemeProvider theme={theme}>\r\n                <div>\r\n                    <ResponsiveAppBar props={props} user={authUser} />\r\n                    <Signin />\r\n                    <Home />\r\n                    <UserList />\r\n                    <BookShelf />\r\n                </div>\r\n            </ThemeProvider>\r\n        </MyContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}