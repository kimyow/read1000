(this.webpackJsonpread1000=this.webpackJsonpread1000||[]).push([[0],{44:function(e,n,t){},45:function(e,n,t){},55:function(e,n,t){"use strict";t.r(n);var c=t(9),r=t.n(c),o=t(27),s=t.n(o),a=(t(44),t(11)),i=(t(45),t(35)),u=t(38),l=t(21),d=t(22),j=t(26),b=Object(i.a)({apiKey:"AIzaSyCGerFrxYZ2_MfRCURUdsqMuD2-9V-B7g4",authDomain:"readbooks-164200.firebaseapp.com",databaseURL:"https://readbooks-164200.firebaseio.com",projectId:"readbooks-164200",storageBucket:"readbooks-164200.appspot.com",messagingSenderId:"451518411017",appId:"1:451518411017:web:cced9b89a6030da16963d8",measurementId:"G-8WQD7EGSVQ"}),O=(Object(u.a)(b),Object(l.c)(b)),g=Object(d.b)(b),f=Object(j.b)(b),m=new d.a,h="sign-in",p="user-rank",v="change-mode",x="user-rank-data-received",I=t(19),_=t(12);var k=function(){var e=Object(I.c)((function(e){return e.mode})),n=Object(I.b)();return console.log("signin render()",e),e!==h?(console.log("signin hidden return"),Object(_.jsx)("div",{className:"hidden"})):(console.log("signin general return"),Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{children:"Sign in screen"}),Object(_.jsx)("button",{onClick:function(){return Object(d.c)(g,m).then((function(e){d.a.credentialFromResult(e).accessToken;var t=e.user;console.log("\ub85c\uadf8\uc778 \uc644\ub8cc~!!",t),n({type:v,mode:p})})).catch((function(e){var n=e.code,t=e.message,c=e.email,r=d.a.credentialFromError(e);console.log("error=>",n,t,c,r),console.log("\ub85c\uadf8\uc778 \uc2e4\ud328~!!")})),!0},children:"Google \ub85c \ub85c\uadf8\uc778"})]}))},y=t(0),E=t.n(y),R=t(1),U=function(e){console.log("UserImageItem =>",e.userItem);var n=Object(c.useState)(null),t=Object(a.a)(n,2),r=t[0],o=t[1];return Object(c.useEffect)((function(){var n=Object(j.c)(f,"/profile_thumbnails/".concat(e.userItem.email,"_").concat(e.userItem.profileId,".png"));Object(j.a)(n).then((function(e){console.log("download_url=",e),o(e)}))}),[]),console.log("UserImageItem render =>",r),r?Object(_.jsxs)("div",{className:"UserImageDiv",children:[Object(_.jsx)("h2",{children:e.userItem.email}),Object(_.jsxs)("h4",{children:[e.userItem.read,"\uad8c \uc77d\uc74c"]}),Object(_.jsx)("img",{src:r,className:"UserImage",alt:""})]}):Object(_.jsx)("div",{})};function S(){return(S=Object(R.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.f)(Object(l.a)(O,"UserRank/Rank_Day_2021_11_19/Rank_Day_2021_11_19"),Object(l.g)("read",">",0),Object(l.e)("read","desc"),Object(l.d)(10)),e.next=3,Object(l.b)(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){(function(){return S.apply(this,arguments)})().then((function(n){var t=[];n.forEach((function(e){var n=e.data();t.push(n)})),e({type:x,userRankList:t})}))}var D=function(){var e=Object(I.c)((function(e){return e.mode})),n=Object(I.c)((function(e){return e.userRankList})),t=Object(I.b)();if(console.log("UserImageList render() =>",e,n),e!==p)return Object(_.jsx)("div",{className:"hidden"});if(null===n)return w(t),Object(_.jsx)("div",{children:Object(_.jsx)("h1",{children:"\uc0ac\uc6a9\uc790 \ub7ad\ud0b9 \ub370\uc774\ud0c0 \ub85c\ub529\uc911..."})});for(var c=[],r=0;r<n.length;){var o=n[r],s=Object(_.jsx)(U,{userItem:o},""+r);c.push(s),r+=1}return console.log("userItems=",c),Object(_.jsx)("div",{children:Object(_.jsx)("ul",{children:c})})};console.log("currentUser=",g.currentUser);var L=function(){var e=Object(I.b)(),n=function(){var e=Object(c.useState)(null),n=Object(a.a)(e,2),t=n[0],r=n[1];return Object(c.useEffect)((function(){var e=g.onAuthStateChanged((function(e){console.log("authUser=>",e),r(e||null)}));return function(){e()}}),[]),t}();return console.log("app render()..."),e(null===n?{type:v,mode:h}:{type:v,mode:p}),Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)("button",{onClick:function(){g.signOut().then((function(n){console.log("signed out~!!"),e({type:v,mode:h})})).catch((function(e){console.log("signed out failed~!!!",e)}))},children:"\ub85c\uadf8\uc544\uc6c3"}),Object(_.jsx)(k,{}),Object(_.jsx)(D,{})]})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,56)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,o=n.getLCP,s=n.getTTFB;t(e),c(e),r(e),o(e),s(e)}))},C=t(39);var F=Object(C.a)((function(e,n){return console.log("reducer called~!",e,n),void 0===e?{mode:"init",userRankList:null}:(n.type===v&&(t=Object.assign({},e,{mode:n.mode})),n.type===x&&(t=Object.assign({},e,{userRankList:n.userRankList})),t);var t}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(I.a,{store:F,children:Object(_.jsx)(L,{})})}),document.getElementById("root")),N()}},[[55,1,2]]]);
//# sourceMappingURL=main.c1930eba.chunk.js.map