(this.webpackJsonpread1000=this.webpackJsonpread1000||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(18),a=n.n(r),s=n(32),c=n.n(s),o=(n(41),n(2)),i=n(3),u=n(7),l=n(8),d=(n(42),n(33)),b=n(35),j=n(21),h=n(20),O=n(25),p=Object(d.a)({apiKey:"AIzaSyCGerFrxYZ2_MfRCURUdsqMuD2-9V-B7g4",authDomain:"readbooks-164200.firebaseapp.com",databaseURL:"https://readbooks-164200.firebaseio.com",projectId:"readbooks-164200",storageBucket:"readbooks-164200.appspot.com",messagingSenderId:"451518411017",appId:"1:451518411017:web:cced9b89a6030da16963d8",measurementId:"G-8WQD7EGSVQ"}),g=(Object(b.a)(p),Object(j.c)(p)),m=Object(h.b)(p),f=Object(O.b)(p),v=new h.a,k=n(36),x="sign-in",_="user-rank",y="change-mode";var R=Object(k.a)((function(e,t){return console.log("reducer called~!",e,t),void 0===e?{mode:"init",userRankList:null}:(t.type===y&&(n=Object.assign({},e,{mode:t.mode})),"user-rank-data-received"===t.type&&(n=Object.assign({},e,{userRankList:t.userRankList})),n);var n}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),I=n(10);function U(){return Object(h.d)(m,v).then((function(e){h.a.credentialFromResult(e).accessToken,e.user;console.log("\ub85c\uadf8\uc778 \uc644\ub8cc~!!"),R.dispatch({type:y,mode:_})})).catch((function(e){var t=e.code,n=e.message,r=e.email,a=h.a.credentialFromError(e);console.log("error=>",t,n,r,a),console.log("\ub85c\uadf8\uc778 \uc2e4\ud328~!!")})),!0}var L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),r=t.call(this,e),R.subscribe(r.render),r}return Object(i.a)(n,[{key:"render",value:function(){var e=R.getState();return console.log("signin render()",e.mode),e.mode!==x?(console.log("signin hidden return"),Object(I.jsx)("div",{className:"hidden"})):(console.log("signin general return"),Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:"Sign in screen"}),Object(I.jsx)("button",{onClick:U,children:"Google \ub85c \ub85c\uadf8\uc778"})]}))}}]),n}(r.Component),D=n(0),S=n.n(D),w=n(19),E=n(1),C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={imageUrl:null},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("UserImageItem componentDidMount =>",this.props.data,f);var t=Object(O.c)(f,"/profile_thumbnails/".concat(this.props.data.email,"_").concat(this.props.data.profileId,".png"));console.log("storageRef=",t),Object(O.a)(t).then((function(t){console.log("download_url=",t),e.setState({imageUrl:t})}))}},{key:"render",value:function(){return console.log("UserImageItem render =>",this.state.imageUrl),this.state.imageUrl?Object(I.jsxs)("div",{className:"UserImageDiv",children:[Object(I.jsx)("h2",{children:this.props.data.email}),Object(I.jsxs)("h4",{children:[this.props.data.read,"\uad8c \uc77d\uc74c"]}),Object(I.jsx)("img",{src:this.state.imageUrl,className:"UserImage",alt:""})]}):Object(I.jsx)("div",{})}}]),n}(r.Component),N=C;function F(){return(F=Object(E.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.f)(Object(j.a)(g,"UserRank/Rank_Day_2021_11_19/Rank_Day_2021_11_19"),Object(j.g)("read",">",0),Object(j.e)("read","desc"),Object(j.d)(10)),e.next=3,Object(j.b)(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={userRankList:null},R.subscribe(r.render.bind(Object(w.a)(r))),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;null===this.state.userRankList&&function(){return F.apply(this,arguments)}().then((function(t){var n=[];t.forEach((function(e){var t=e.data();n.push(t)})),e.setState({userRankList:n})}))}},{key:"render",value:function(){var e=R.getState();if(console.log("UserImageList render() =>",e.mode,e.userRankList),e.mode!==_)return Object(I.jsx)("div",{className:"hidden"});if(null===this.state.userRankList)return Object(I.jsx)("div",{children:Object(I.jsx)("h1",{children:"\uc0ac\uc6a9\uc790 \ub7ad\ud0b9 \ub370\uc774\ud0c0 \ub85c\ub529\uc911..."})});for(var t=[],n=0;n<this.state.userRankList.length;){var r=this.state.userRankList[n],a=Object(I.jsx)(N,{data:r},""+n);t.push(a),n+=1}return console.log("userItems=",t),Object(I.jsx)("div",{children:Object(I.jsx)("ul",{children:t})})}}]),n}(r.Component),M=T;function B(){m.signOut().then((function(e){console.log("signed out~!!"),R.dispatch({type:y,mode:x})})).catch((function(e){console.log("signed out failed~!!!",e)}))}console.log("currentUser=",m.currentUser),Object(h.c)(m,(function(e){if(e){var t=e.uid;console.log("uid=",t,e.email),R.dispatch({type:y,mode:_})}else console.log("Need signin~!!"),R.dispatch({type:y,mode:x})}));var G=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return console.log("app render()..."),Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)("button",{onClick:B,children:"\ub85c\uadf8\uc544\uc6c3"}),Object(I.jsx)(L,{}),Object(I.jsx)(M,{})]})}}]),n}(r.Component),V=G,X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(V,{})}),document.getElementById("root")),X()}},[[46,1,2]]]);
//# sourceMappingURL=main.a0232f83.chunk.js.map