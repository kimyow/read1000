(this.webpackJsonpread1000=this.webpackJsonpread1000||[]).push([[0],{115:function(e,t,n){},144:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(55),o=n.n(r),s=(n(144),n(12)),i=n(118),l=n(127),d=n(25),j=n(59),u=n(34),b=Object(i.a)({apiKey:"AIzaSyCGerFrxYZ2_MfRCURUdsqMuD2-9V-B7g4",authDomain:"readbooks-164200.firebaseapp.com",databaseURL:"https://readbooks-164200.firebaseio.com",projectId:"readbooks-164200",storageBucket:"readbooks-164200.appspot.com",messagingSenderId:"451518411017",appId:"1:451518411017:web:cced9b89a6030da16963d8",measurementId:"G-8WQD7EGSVQ"}),O=(Object(l.a)(b),Object(d.e)(b)),h=Object(j.b)(b),g=Object(u.b)(b),x=new j.a,m="init",f="sign-in",p="user-rank-daily",v="user-rank-weekly",k="user-rank-monthly",y="good-writer",w="best-reader",C="book-shelf",N="change-mode",S="user-selected",B=n(5),F=c.a.createContext({}),D={mode:m,userRankList:null,selectedUser:null},E=function(e,t){var n;switch(console.log("reducer called~!",e,t),t.type){case N:n=Object.assign({},e,{mode:t.mode});break;case"user-rank-data-received":n=Object.assign({},e,{userRankList:t.userRankList});break;case S:n=Object.assign({},e,{selectedUser:t.user,mode:C});break;default:n=D}return console.log("reducer return ===>",n),n},I=n.p+"static/media/image1.32f8c154.svg",_=n(235),R=n(225),L=n(9),A=n(3),M=Object(R.a)((function(){return{container:Object(B.a)({height:"80rem"},"@media screen and (max-width:767px)",{height:"60rem"}),loginButton:{width:"50%",margin:10,maxWidth:600,padding:"10px",border:"none",color:"white",borderRadius:"4px"},buttonColorGoogle:{backgroundColor:"#4285F4","&:hover":{backgroundColor:"#2f54f5"}},buttonColorKakao:{color:"black",backgroundColor:"#FEE500","&:hover":{backgroundColor:"#b7ac4e"}},buttonColorNaver:{backgroundColor:"#03C75A","&:hover":{backgroundColor:"#058d41"}},signinTitle:{marginTop:20,marginBottom:20,color:"#477F8F",fontWeight:"bolder",fontFamily:"Gamja Flower"}}})),T=function(){var e=Object(a.useContext)(F),t=e.state,n=e.dispatch,c=t.mode,r=M();return console.log("signin render()",c),c!==f?(console.log("signin hidden return"),Object(A.jsx)("div",{className:"hidden"})):(console.log("signin general return"),Object(A.jsxs)(_.a,{paddingTop:"10rem",textAlign:"center",className:r.container,children:[Object(A.jsx)("img",{src:I,className:r.signinLogo}),Object(A.jsx)("h1",{className:r.signinTitle,children:"\ucc9c\uad8c\uc77d\uae30 \ub85c\uadf8\uc778"}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{className:Object(L.a)(r.loginButton,r.buttonColorGoogle),size:"large",variant:"contained",onClick:function(){!function(e){Object(j.c)(h,x).then((function(t){var n=j.a.credentialFromResult(t).accessToken,a=t.user;console.log("\ub85c\uadf8\uc778 \uc644\ub8cc~!!",a,n),e({type:N,mode:m})})).catch((function(e){var t=e.code,n=e.message,a=e.email,c=j.a.credentialFromError(e);console.log("error=>",t,n,a,c),console.log("\ub85c\uadf8\uc778 \uc2e4\ud328~!!")}))}(n)},children:"\uad6c\uae00 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778"})}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{className:Object(L.a)(r.loginButton,r.buttonColorKakao),size:"large",variant:"contained",onClick:function(){},children:"\uce74\uce74\uc624 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778"})}),Object(A.jsx)("div",{children:Object(A.jsx)("button",{className:Object(L.a)(r.loginButton,r.buttonColorNaver),size:"large",variant:"contained",onClick:function(){},children:"\ub124\uc774\ubc84 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778"})})]}))},U=n(0),W=n.n(U),G=n(2),z=n(236),Y=n(228),P=n(231),q=Object(R.a)((function(e){var t=e.spacing,n=e.palette;console.log("useUserCardStyles",t,n);var a='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"';return{card:{display:"flex",padding:t(2),minWidth:288,width:350,margin:t(1),borderRadius:12,boxShadow:"0 2px 4px 0 rgba(138, 148, 159, 0.2)","& > *:nth-child(1)":{marginRight:t(2)},"& > *:nth-child(2)":{flex:"auto"},cursor:"pointer"},avatar:{width:80,height:80},heading:{fontFamily:a,fontSize:16,marginBottom:0},subheader:{fontFamily:a,fontSize:14,color:n.grey[600],letterSpacing:"1px",marginBottom:4},value:{marginLeft:8,fontSize:14,color:n.grey[500]}}})),H=Object(R.a)((function(){return{root:{height:4},rail:{borderRadius:10,height:4,backgroundColor:"rgb(202,211,216)"},track:{borderRadius:10,height:4,backgroundColor:"rgb(117,156,250)"},thumb:{display:"none"}}})),J=function(){var e=Object(G.a)(W.a.mark((function e(t,n){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(d.b)(O,"ClientInfoDataBase","".concat(t,"_").concat(n)),e.next=3,Object(d.c)(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=Object(a.memo)((function(e){var t=e.userItem,n=e.screenMode,c=Object(a.useContext)(F).dispatch,r=t.email?"".concat(t.email,"_").concat(t.profileId):"",o=Object(a.useState)(null),i=Object(s.a)(o,2),l=i[0],d=i[1],j=Object(a.useState)({}),b=Object(s.a)(j,2),O=b[0],h=b[1];console.log("UserCard render()...",t),Object(a.useEffect)((function(){try{var e=Object(u.c)(g,"/profile_thumbnails/".concat(r,".png"));Object(u.a)(e).then((function(e){console.log("download_url=",e),window.localStorage.setItem(r,JSON.stringify(e)),d(e)}))}catch(t){}}),[t,r]),Object(a.useEffect)((function(){try{J(t.email,t.profileId).then((function(e){console.log("clientInfo =>",e.data()),h(e.data())}))}catch(e){}}),[t]);var x="",m=" \uc77d\uc5c8\uc2b5\ub2c8\ub2e4.";n===p?x=" \uc624\ub298 ":n===v?x=" \uc774\ubc88 \uc8fc ":n===k?x=" \uc774\ubc88 \ub2ec ":n===y&&(x=" \uc88b\uc544\uc694: ",m="");var f=q(),w=H(),C=O&&O.read&&O.goal?Math.floor(100*O.read/O.goal):0;return Object(A.jsxs)(z.a,{className:Object(L.a)(f.card),elevation:0,onClick:function(){!function(e,t){e({type:S,user:t})}(c,O)},children:[Object(A.jsx)(P.a,{src:l,className:f.avatar}),Object(A.jsxs)(_.a,{children:[Object(A.jsx)("h3",{className:f.heading,children:O.profileName}),Object(A.jsxs)("p",{className:f.subheader,children:[O.age,"\uc138 \u2022",x," ",Object(A.jsx)("span",{style:{color:"brown"},children:n===y?t.like:t.read})," ",m]}),Object(A.jsxs)(_.a,{display:"flex",alignItems:"center",children:[Object(A.jsx)(Y.a,{classes:w,value:C}),Object(A.jsxs)("span",{className:f.value,children:[O.read,"/",O.goal]})]})]})]})})),Q=function(e){var t=new Date(e.getFullYear(),0,1),n=Math.floor((e-t)/864e5);return Math.floor((e.getDay()+1+n)/7)},V=function(){var e=Object(G.a)(W.a.mark((function e(t){var n,a,c,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date,a="",c=null,console.log(t),r=50,t===p?a="UserRank/Rank_Day_".concat(n.getFullYear(),"_").concat(n.getMonth()+1,"_").concat(n.getDate(),"/Rank_Day_").concat(n.getFullYear(),"_").concat(n.getMonth()+1,"_").concat(n.getDate()):t===v?a="UserRank/Rank_Week_".concat(n.getFullYear(),"_").concat(Q(n),"/Rank_Week_").concat(n.getFullYear(),"_").concat(Q(n)):t===k?a="UserRank/Rank_Month_".concat(n.getFullYear(),"_").concat(n.getMonth()+1,"/Rank_Month_").concat(n.getFullYear(),"_").concat(n.getMonth()+1):t===w?a="ClientInfoDataBase":t===y?(a="ClientInfoDataBase",c=Object(d.h)(Object(d.a)(O,a),Object(d.i)("like",">",0),Object(d.g)("like","desc"),Object(d.f)(r))):"famous-book"===t?a="Books":"recent-review"===t&&(a="MessageDataBase",c=Object(d.h)(Object(d.a)(O,a),Object(d.g)("updatedDate","desc"),Object(d.f)(r))),console.log("query path = ",a),a){e.next=9;break}return e.abrupt("return",new Promise((function(e){e([])})));case 9:return null===c&&(c=Object(d.h)(Object(d.a)(O,a),Object(d.i)("read",">",0),Object(d.g)("read","desc"),Object(d.f)(r))),e.next=12,Object(d.d)(c);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(a.useContext)(F).state,t=Object(a.useState)(null),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(null),i=Object(s.a)(o,2),l=i[0],d=i[1],j=e.mode;return console.log("################ UserList render() userList=>",j,l),Object(a.useEffect)((function(){try{r(null),d(null),V(j).then((function(e){var t=[];e.forEach((function(e){var n=e.data();t.push(n)})),console.log("UserList ===> itemList ==> ",t),d(t)}))}catch(e){r(e)}}),[j]),j!==k&&j!==v&&j!==p&&j!==w&&j!==y?Object(A.jsx)("div",{}):c?Object(A.jsx)(_.a,{marginTop:"10em",sx:{textAlign:"center",verticalAlign:"middle",height:"100rem"},children:Object(A.jsxs)("h5",{children:["\ub370\uc774\ud130 \ub85c\ub529\uc911\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. ",c]})}):null===l?Object(A.jsx)(_.a,{marginTop:"10em",sx:{textAlign:"center",verticalAlign:"middle",height:"100rem"},children:Object(A.jsx)("h5",{children:"\ub370\uc774\ud0c0\ub97c \ub85c\ub529\uc911\uc785\ub2c8\ub2e4..."})}):Object(A.jsx)(_.a,{marginTop:"5em",sx:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},children:l&&l.length>0?l.map((function(e,t){return Object(A.jsx)(K,{userItem:e,screenMode:j},""+t)})):Object(A.jsx)("div",{children:Object(A.jsx)("h2",{children:"\ub370\uc774\ud0c0\ub97c \ub85c\ub529\uc911\uc785\ub2c8\ub2e4..."})})})},Z=n(106),$=n(238),ee=n(240),te=n(241),ne=n(76),ae=n(227),ce=n(124),re=n.n(ce),oe=n(239),se=n(234),ie=n(224),le=n(233),de=n(213),je=n(214),ue=[{mode:y,value:"\uc778\uae30 \ub9ac\ubdf0\uc5b4"},{mode:p,value:"\uc624\ub298\uc758 \ub3c5\uc11c\uc655"},{mode:v,value:"\uc8fc\uac04 \ub3c5\uc11c\uc655"},{mode:k,value:"\uc6d4\uac04 \ub3c5\uc11c\uc655"},{mode:w,value:"\ubca0\uc2a4\ud2b8 \ub9ac\ub354"}],be=["Profile","Account","Dashboard","Logout"],Oe=function(e){var t=e.children,n=e.window,a=Object(de.a)({target:n?n():void 0});return Object(A.jsx)(je.a,{appear:!1,direction:"down",in:!a,children:t})},he=function(e){var t=Object(a.useContext)(F),n=t.state,c=t.dispatch,r=t.logout,o=e.user,i=Object(a.useState)(null),l=Object(s.a)(i,2),d=l[0],j=l[1],b=Object(a.useState)(null),O=Object(s.a)(b,2),h=O[0],x=O[1],f=Object(a.useState)(null),p=Object(s.a)(f,2),v=p[0],k=p[1],y=Object(a.useState)(function(e){var t=ue.filter((function(t){return e===t.mode}));return t.length>0?(console.log("getDefaultTitle=>",t),t[0].value):"\ucc9c\uad8c\uc77d\uae30"}(m)),w=Object(s.a)(y,2),C=w[0],S=w[1];if(console.log("ResponsiveAppBar title=>",C,n.mode),Object(a.useEffect)((function(){if(o){var e="".concat(o.email),t=o.photoURL;if(console.log("ResponsiveAppBar downloadUrl=>",t),t)k(t);else{var n=Object(u.c)(g,"/profile_thumbnails/".concat(e,".png"));Object(u.a)(n).then((function(e){console.log("Me download_url=",e),k(e)}))}}}),[o]),!o)return Object(A.jsx)("div",{});var B=function(e){if(console.log("handleCloseNavMenu",e),j(null),"Logout"===e.target.innerText)return console.log("Logout~!!!"),x(null),k(""),void r(c);e.target.dataset.index?c({type:N,mode:e.target.dataset.index}):e.target.parentElement.dataset.index&&(S(e.target.innerText),c({type:N,mode:e.target.parentElement.dataset.index}))};return Object(A.jsx)(Oe,Object(Z.a)(Object(Z.a)({},e),{},{children:Object(A.jsx)($.a,{sx:{background:"#F08080"},children:Object(A.jsx)(oe.a,{maxWidth:"xl",children:Object(A.jsxs)(ee.a,{disableGutters:!0,children:[Object(A.jsx)("div",{style:{cursor:"pointer"},onClick:function(){c({type:N,mode:m})},children:Object(A.jsx)(ne.a,{variant:"h5",noWrap:!0,component:"div",fontFamily:"Gamja Flower",sx:{mr:2,display:{xs:"none",md:"flex"}},children:"\ucc9c\uad8c\uc77d\uae30"})}),Object(A.jsxs)(_.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(A.jsx)(te.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){console.log("handleOpenNavMenu=>",e.currentTarget),j(e.currentTarget)},color:"inherit",children:Object(A.jsx)(re.a,{})}),Object(A.jsx)(ae.a,{id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(d),onClose:B,sx:{display:{xs:"block",md:"none"}},children:ue.map((function(e){return Object(A.jsx)(le.a,{"data-index":e.mode,onClick:B,children:Object(A.jsx)(ne.a,{textAlign:"center",children:e.value})},e.mode)}))})]}),Object(A.jsx)(ne.a,{variant:"h6",noWrap:!0,component:"div",fontFamily:"Gamja Flower",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:C}),Object(A.jsx)(_.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:ue.map((function(e){return Object(A.jsx)(se.a,{"data-index":e.mode,onClick:B,sx:{my:2,color:"white",display:"block"},children:e.value},e.mode)}))}),Object(A.jsxs)(_.a,{sx:{flexGrow:0},children:[Object(A.jsx)(ie.a,{title:"Open settings",children:Object(A.jsx)(te.a,{onClick:function(e){console.log("handleOpenUserMenu=>",e.currentTarget),x(e.currentTarget)},sx:{p:0},children:Object(A.jsx)(P.a,{alt:"Remy Sharp",src:v})})}),Object(A.jsx)(ae.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(h),onClose:function(){x(null)},children:be.map((function(e){return Object(A.jsx)(le.a,{onClick:B,children:Object(A.jsx)(ne.a,{textAlign:"center",children:e})},e)}))})]})]})})})}))},ge=n(245),xe=n(246),me=n(222),fe=n(244),pe=n(247),ve=n(223),ke=n(248),ye=(n(115),n(220)),we=function(e){var t=e.user,n=Object(a.useState)(null),c=Object(s.a)(n,2),r=c[0],o=c[1],i=t.email?"".concat(t.email,"_").concat(t.profileId):"";return console.log("UserAvatar====>",t),Object(a.useEffect)((function(){var e=Object(u.c)(g,"/profile_thumbnails/".concat(i,".png"));Object(u.a)(e).then((function(e){console.log("download_url=",e),o(e)}))}),[t,i]),Object(A.jsx)(P.a,{src:r,alt:"No image"})},Ce=function(e){var t=e.users,n=[];return t.forEach((function(e){n.push(Object(A.jsx)(we,{user:e}))})),Object(A.jsx)(ye.a,{mt:2,direction:"row",spacing:2,children:n})},Ne=n(242),Se=n(230),Be=n(243),Fe=n(221),De=function(){var e=Object(G.a)(W.a.mark((function e(t,n){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(d.b)(O,"ClientInfoDataBase","".concat(t,"_").concat(n)),e.next=3,Object(d.c)(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(e){var t=e.review,n=Object(a.useState)(null),c=Object(s.a)(n,2),r=c[0],o=c[1];console.log("Review =======> ",t);var i={email:t.writerEmail,profileId:t.writerProfileId};return Object(a.useEffect)((function(){De(i.email,i.profileId).then((function(e){console.log("clientInfo =>",e.data()),o(e.data())}))}),[i.email,i.profileId]),Object(A.jsxs)(Se.a,{alignItems:"flex-start",children:[Object(A.jsx)(Be.a,{children:Object(A.jsx)(we,{alt:"No image",user:i})}),Object(A.jsx)(Fe.a,{primary:r?r.profileName:"",secondary:t.bodyMessage})]})},Ie=function(){var e=Object(G.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.h)(Object(d.a)(O,"MessageDataBase"),Object(d.i)("isbn","==",t),Object(d.g)("updatedDate","desc"),Object(d.f)(20)),e.next=3,Object(d.d)(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(e){var t=e.isbn,n=Object(a.useState)(null),c=Object(s.a)(n,2),r=c[0],o=c[1];return console.log("ReviewList ===>",t),Object(a.useEffect)((function(){Ie(t).then((function(e){var t=[];e.forEach((function(e){var n=e.data();t.push(Object(A.jsx)(Ee,{review:n}))})),o(t)}))}),[t]),r?0===r.length?Object(A.jsx)(ne.a,{style:{textAlign:"center"},id:"modal-modal-description",sx:{mt:2},children:"\uc791\uc131\ub41c \ub9ac\ubdf0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. "}):Object(A.jsx)(Ne.a,{children:r}):Object(A.jsx)(fe.a,{})},Re={display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},Le=function(){var e=Object(G.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.b)(O,"Books",t),e.next=3,Object(d.c)(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(e){var t=e.book,n=Object(a.useState)(null),c=Object(s.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(null),l=Object(s.a)(i,2),d=l[0],j=l[1],b=Object(a.useState)(!1),O=Object(s.a)(b,2),h=O[0],x=O[1],m=Object(a.useState)(null),f=Object(s.a)(m,2),p=f[0],v=f[1];console.log("Book===>",r);var k=t[11];r&&(k=r);var y=function(){x(!0),function(e,t,n){console.log("LoadBookDetails ====> ",e),Le(e).then((function(e){var a=e.data();console.log("LoadBookDetails Success !!!! ====> ",e.data()),a.imageLinkBig&&(console.log("LoadBookDetails imageLinkBig==>",a.imageLinkBig),n(a.imageLinkBig)),t(e.data())})).catch((function(e){console.log("LoadBookDetails Error !!!! ====> ",e),t({})}))}(t[12],v,j)};Object(a.useEffect)((function(){if(k.startsWith("gs://")){var e=Object(u.c)(g,k);Object(u.a)(e).then((function(e){console.log("BookThumbnail download_url=",e),o(e)}))}else o(k)}),[]);var w=+t[14],C=new Date(w);console.log("read date=",C);var N="".concat(C.getFullYear(),"\ub144 ").concat(C.getMonth()+1,"\uc6d4 ").concat(C.getDate(),"\uc77c");return Object(A.jsxs)("div",{children:[Object(A.jsx)(oe.a,{className:"bookImgContainer",children:r&&r.startsWith("http")?Object(A.jsx)("img",{onClick:y,className:"bookImg",src:r,alt:t[2]}):Object(A.jsxs)("div",{onClick:y,className:"image",children:[Object(A.jsx)("img",{className:"bookImg",src:"",alt:""}),Object(A.jsx)("div",{className:"text",children:t[2]})]})}),Object(A.jsxs)(ge.a,{open:h,onClose:function(){x(!1)},"aria-labelledby":"customized-dialog-title","aria-describedby":"modal-modal-description",scroll:"paper",className:"dialogStyle",children:[Object(A.jsxs)(xe.a,{id:"modal-modal-description",sx:{mt:2},children:[Object(A.jsx)(me.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:t[2]}),Object(A.jsx)(_.a,{sx:Re,children:Object(A.jsx)("img",{className:"bookImgLarge",src:d||(r||""),alt:t[2],onError:function(e){console.log("handleOnImageError === ",e.target.src,r,e),e.target.src&&r&&e.target.src!==r&&(e.target.src=r)}})}),Object(A.jsxs)(ne.a,{id:"modal-modal-description",sx:{mt:2},children:[Object(A.jsx)("span",{style:{color:"red"},children:N}),"\uc5d0 \uc77d\uc5c8\uc2b5\ub2c8\ub2e4."]}),null!==p?p.read?Object(A.jsxs)("div",{children:[Object(A.jsxs)(ne.a,{id:"modal-modal-description",sx:{mt:2},children:["\ucc9c\uad8c\uc77d\uae30 \ud68c\uc6d0 \ucd1d ",Object(A.jsx)("span",{style:{color:"red"},children:p.read})," \uba85\uc774 \uc77d\uc5c8\uc2b5\ub2c8\ub2e4."]}),Object(A.jsx)(xe.a,{children:Object(A.jsx)(Ce,{style:{display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},users:p.readPeople})})]}):Object(A.jsx)("div",{}):Object(A.jsx)(fe.a,{}),Object(A.jsx)(pe.a,{id:"alert-dialog-description",children:Object(A.jsx)(ne.a,{id:"modal-modal-description",sx:{mt:3},children:t[7]})}),Object(A.jsx)(ve.a,{sx:{mt:2}}),Object(A.jsx)(_e,{isbn:t[12]})]}),Object(A.jsx)(ke.a,{children:t[10]?Object(A.jsx)(se.a,{onClick:function(){x(!1),window.open(t[10])},children:"\uc774 \ucc45\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9 \ubcf4\ub7ec\uac00\uae30"}):Object(A.jsx)("div",{})})]})]})},Me=function(){var e=Object(a.useContext)(F).state,t=Object(a.useState)(null),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(null),i=Object(s.a)(o,2),l=i[0],d=i[1];console.log("BookShelf state=>",e);var j=e.mode,b=e.selectedUser;if(Object(a.useEffect)((function(){if(b){console.log("BookShelf download db...",b),r(null),d(null);var e=Object(u.c)(g,"/databases/".concat(b.email,".db"));Object(u.a)(e).then((function(e){console.log("download_url=",e),window.initSqlJs({locateFile:function(e){return"/dist/".concat(e)}}).then((function(t){console.log("SQL",t);var n=e,a=new XMLHttpRequest;a.responseType="arraybuffer",a.onload=function(e){try{var n=a.response,c=new Uint8Array(n),o=new t.Database(c).exec("SELECT * FROM tbl_favorite WHERE profileid = ".concat(b.profileId," AND pagecount >= 0 ORDER BY readdate DESC LIMIT 100"));console.log("contents ==>",o),o.length>0&&o[0].values?r(o[0].values):r([])}catch(s){console.log("database error ~~~> ",s),d(s)}},a.open("GET",n),a.send()}))}))}}),[b]),j!==C)return Object(A.jsx)("div",{className:"hidden"});if(l)return Object(A.jsx)(_.a,{marginTop:"10em",sx:{textAlign:"center",verticalAlign:"middle",height:"100rem"},children:Object(A.jsx)("h5",{children:"\ub3c4\uc11c \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub85c\ub529\uc911\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."})});if(null===c)return Object(A.jsxs)(_.a,{marginTop:"10em",sx:{textAlign:"center",verticalAlign:"middle",height:"100rem"},children:[Object(A.jsx)(fe.a,{className:"circularProgress",color:"inherit"}),Object(A.jsx)("h6",{children:"\ub3c4\uc11c \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c \ub85c\ub529\uc911\uc785\ub2c8\ub2e4..."})]});console.log("BookShelf render() ===>",j);var O=c.slice(0,100);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(_.a,{className:"bookShelfCard",sx:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},children:[Object(A.jsx)(we,{user:b})," ",Object(A.jsxs)("span",{style:{marginLeft:"10px",padding:"5px"},children:[b.profileName," \u2022 (\ucd5c\uadfc\uc5d0 \uc77d\uc740 \ucc45\ub4e4)"]})]}),Object(A.jsx)(_.a,{sx:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"wrap"},children:O.map((function(e,t){return Object(A.jsx)(Ae,{book:e},""+t)}))})]})},Te=n.p+"static/media/icon.30816d4f.png",Ue=n.p+"static/media/user_card.cd3ccae2.png",We=n.p+"static/media/bookshelf2.4ebac43f.png",Ge=n(249),ze=(n(157),function(){var e=Object(a.useContext)(F).state.mode;return console.log("Home render() ======> ",e),e!==m?Object(A.jsx)("div",{}):Object(A.jsxs)(_.a,{paddingTop:"5rem",textAlign:"center",children:[Object(A.jsx)("img",{src:I,className:"logo"}),Object(A.jsx)("h1",{className:"main-title",children:"\ub3c5\uc11c\uc758 \ud798, \uc571\uc73c\ub85c \ud0a4\uc6cc\uc694"}),Object(A.jsx)("div",{className:"sub-title",children:Object(A.jsxs)("p",{children:["\ucc45\uc77d\uae30 \uc2eb\uc5b4\ud558\ub294 \uc790\ub140\ub97c",Object(A.jsx)("br",{}),"\uc2a4\uc2a4\ub85c \ub3c5\uc11c\ud558\ub294 \uc544\uc774\ub85c"]})}),Object(A.jsx)("img",{src:Ue,className:"userCard"}),Object(A.jsxs)("div",{className:"margin-top-desc",children:[Object(A.jsx)("p",{className:"main-title",style:{textAlign:"left"},children:"\ub3c5\uc11c\uc758 \ud398\uc774\uc2a4\uba54\uc774\ucee4"}),Object(A.jsx)("div",{className:"main-description",children:Object(A.jsxs)("p",{children:[Object(A.jsx)("span",{style:{color:"#B44C4F"},children:"\ub2ec\uc131\uc728"}),"\uc744 \ubcf4\uba74\uc11c \ubaa9\ud45c\ub7c9\uc744 \ud5a5\ud574 \ub2ec\ub9bd\ub2c8\ub2e4.",Object(A.jsx)("br",{}),"\uce5c\uad6c\uc640 \ud568\uaed8 ",Object(A.jsx)("span",{style:{color:"#B44C4F"},children:"\ub3c5\uc11c\ubc29"}),"\uc744 \ub9cc\ub4e4\uace0 \uc77d\uc740 \ucc45\uc744 \uacf5\uc720\ud569\ub2c8\ub2e4.",Object(A.jsx)("br",{}),"\uc624\ub298\uc758 ",Object(A.jsx)("span",{style:{color:"#B44C4F"},children:"\ub3c5\uc11c\uc655, \uc8fc\uac04, \uc6d4\uac04 \ub3c5\uc11c\uc655"}),"\uc5d0 \ub3c4\uc804\ud574 \ubcf4\uc138\uc694.",Object(A.jsx)("br",{}),"\uba85\uc608\uc758 \uc804\ub2f9\uc5d0 \uc624\ub978 \uce5c\uad6c\ub4e4\uc758 ",Object(A.jsx)("span",{style:{color:"#B44C4F"},children:"\ub3c5\uc11c\uc774\ub825"}),"\uc744 \ubcf4\uba70 \ub3c5\uc11c\uc758 \ub9c8\uc74c\uac00\uc9d0\uc744 \uc0c8\ub86d\uac8c \ud569\ub2c8\ub2e4."]})})]}),Object(A.jsx)("img",{src:We,className:"userCard"}),Object(A.jsxs)("div",{className:"margin-top-desc",children:[Object(A.jsx)("p",{className:"main-title",style:{textAlign:"right"},children:"\ub3c5\uc11c \ub3d9\uae30 \uc804\ubb38\uac00"}),Object(A.jsx)("div",{className:"main-description",style:{textAlign:"right"},children:Object(A.jsxs)("p",{children:["\uc120\ub73b \ud63c\uc790 \uc2dc\uc791\ud558\uae30 \uc5b4\ub824\uc6b0\uc2dc\ub2e4\uba74 ",Object(A.jsx)("span",{style:{color:"#B44C4F"},children:"\ubc29\ud559\ub808\uc774\uc2a4"})," \ucc38\uc5ec\ud574\ubcf4\uc138\uc694.",Object(A.jsx)("br",{}),"\ud568\uaed8 \ub2ec\ub9ac\ub294 \uc7ac\ubbf8\ub85c \uc5b4\ub290\ub367 \ubaa9\ud45c\ub7c9\uc5d0 \ub3c4\ub2ec\ud569\ub2c8\ub2e4.",Object(A.jsx)("br",{}),"\uc644\uc8fc \ud6c4 \uc8fc\uc5b4\uc9c0\ub294 \ubc43\uc9c0\uc640 \uc0c1\uc7a5\uc5d0 \ubfcc\ub4ef\ud568\uc740 \ub450 \ubc30~"]})})]}),Object(A.jsxs)("div",{className:"margin-top-desc",children:[Object(A.jsx)("p",{className:"main-title",children:"\ucc9c\uad8c\uc77d\uae30\ub97c \ud65c\uc6a9\ud574\ubcf4\uc138\uc694"}),Object(A.jsx)("div",{className:"sub-title",children:Object(A.jsxs)("p",{children:["\ucc45\uc77d\uae30 \uc2eb\uc5b4\ud558\ub294 \uc790\ub140\ub97c",Object(A.jsx)("br",{}),"\uc2a4\uc2a4\ub85c \ub3c5\uc11c\ud558\ub294 \uc544\uc774\ub85c"]})})]}),Object(A.jsxs)(Ge.a,{underline:"hover",color:"#3a3737",href:"https://play.google.com/store/apps/details?id=com.yeoniyouni.readbooks&hl=ko",target:"_blank",children:[Object(A.jsx)("img",{className:"img-icon-book margin-top-desc",src:Te}),Object(A.jsx)("div",{className:"link-button",children:"\ucc9c\uad8c\uc77d\uae30 \uc571 \uc124\uce58\ud558\uae30"})]})]})}),Ye=n(250),Pe=n(126),qe=(n(158),function(e){h.signOut().then((function(t){console.log("signed out~!!"),e({type:N,mode:f})})).catch((function(e){console.log("signed out failed~!!!",e)}))});var He=function(e){var t=Object(a.useReducer)(E,D,void 0),n=Object(s.a)(t,2),c=n[0],r=n[1];console.log("App state=>",c);var o=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=h.onAuthStateChanged((function(e){console.log("authUser=>",e),c(e||null)}));return function(){e()}}),[]),n}();console.log("app render()...",o),Object(a.useEffect)((function(){r(null===o?{type:N,mode:f}:{type:N,mode:m})}),[o]);var i=Object(Pe.a)();return Object(A.jsx)(F.Provider,{value:{state:c,dispatch:r,logout:qe},children:Object(A.jsx)(Ye.a,{theme:i,children:Object(A.jsxs)("div",{children:[Object(A.jsx)(he,{props:e,user:o}),Object(A.jsx)(T,{}),Object(A.jsx)(ze,{}),Object(A.jsx)(X,{}),Object(A.jsx)(Me,{})]})})})},Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,251)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};n(159);o.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(He,{})}),document.getElementById("root")),Je()}},[[160,1,2]]]);
//# sourceMappingURL=main.540ab681.chunk.js.map